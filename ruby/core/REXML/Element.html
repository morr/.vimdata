<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: REXML::Element</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">REXML::Element</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/rexml/element_rb.html">
                lib/rexml/element.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="Parent.html">
                Parent
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Represents a tagged <a href="../XML.html">XML</a> element. <a
href="Elements.html">Elements</a> are characterized by having children,
attributes, and names, and can themselves be children.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M005634">add_attribute</a>&nbsp;&nbsp;
      <a href="#M005635">add_attributes</a>&nbsp;&nbsp;
      <a href="#M005616">add_element</a>&nbsp;&nbsp;
      <a href="#M005614">add_namespace</a>&nbsp;&nbsp;
      <a href="#M005629">add_text</a>&nbsp;&nbsp;
      <a href="#M005632">attribute</a>&nbsp;&nbsp;
      <a href="#M005637">cdatas</a>&nbsp;&nbsp;
      <a href="#M005604">clone</a>&nbsp;&nbsp;
      <a href="#M005638">comments</a>&nbsp;&nbsp;
      <a href="#M005636">delete_attribute</a>&nbsp;&nbsp;
      <a href="#M005617">delete_element</a>&nbsp;&nbsp;
      <a href="#M005615">delete_namespace</a>&nbsp;&nbsp;
      <a href="#M005607">document</a>&nbsp;&nbsp;
      <a href="#M005621">each_element</a>&nbsp;&nbsp;
      <a href="#M005619">each_element_with_attribute</a>&nbsp;&nbsp;
      <a href="#M005620">each_element_with_text</a>&nbsp;&nbsp;
      <a href="#M005622">get_elements</a>&nbsp;&nbsp;
      <a href="#M005627">get_text</a>&nbsp;&nbsp;
      <a href="#M005633">has_attributes?</a>&nbsp;&nbsp;
      <a href="#M005618">has_elements?</a>&nbsp;&nbsp;
      <a href="#M005625">has_text?</a>&nbsp;&nbsp;
      <a href="#M005609">ignore_whitespace_nodes</a>&nbsp;&nbsp;
      <a href="#M005603">inspect</a>&nbsp;&nbsp;
      <a href="#M005639">instructions</a>&nbsp;&nbsp;
      <a href="#M005613">namespace</a>&nbsp;&nbsp;
      <a href="#M005612">namespaces</a>&nbsp;&nbsp;
      <a href="#M005602">new</a>&nbsp;&nbsp;
      <a href="#M005623">next_element</a>&nbsp;&nbsp;
      <a href="#M005630">node_type</a>&nbsp;&nbsp;
      <a href="#M005611">prefixes</a>&nbsp;&nbsp;
      <a href="#M005624">previous_element</a>&nbsp;&nbsp;
      <a href="#M005610">raw</a>&nbsp;&nbsp;
      <a href="#M005606">root</a>&nbsp;&nbsp;
      <a href="#M005605">root_node</a>&nbsp;&nbsp;
      <a href="#M005626">text</a>&nbsp;&nbsp;
      <a href="#M005628">text=</a>&nbsp;&nbsp;
      <a href="#M005640">texts</a>&nbsp;&nbsp;
      <a href="#M005608">whitespace</a>&nbsp;&nbsp;
      <a href="#M005641">write</a>&nbsp;&nbsp;
      <a href="#M005631">xpath</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="Namespace.html">Namespace</a></span>
      </div>
    </div>

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">UNDEFINED</td>
          <td>=</td>
          <td class="context-item-value">&quot;UNDEFINED&quot;;</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">attributes</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Mechanisms for accessing attributes and child elements of this element.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">context</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
The context holds information about the processing environment, such as <a
href="Element.html#M005608">whitespace</a> handling.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">elements</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Mechanisms for accessing attributes and child elements of this element.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M005602" class="method-detail">
        <a name="M005602"></a>

        <div class="method-heading">
          <a href="Element.src/M005602.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005602.html');return false;">
          <span class="method-name">new</span><span class="method-args">( arg = UNDEFINED, parent=nil, context=nil )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Constructor
</p>
<table>
<tr><td valign="top">arg:</td><td>if not supplied, will be set to the default value. If a <a
href="../String.html">String</a>, the name of this object will be set to
the argument. If an <a href="Element.html">Element</a>, the object will be
shallowly cloned; name, attributes, and <a
href="Element.html#M005612">namespaces</a> will be copied. Children will
<tt>not</tt> be copied.

</td></tr>
<tr><td valign="top">parent:</td><td>if supplied, must be a <a href="Parent.html">Parent</a>, and will be used
as the parent of this object.

</td></tr>
<tr><td valign="top">context:</td><td>If supplied, must be a hash containing context items. Context items
include:

</td></tr>
</table>
<ul>
<li><tt>:respect_whitespace</tt> the value of this is :<tt>all</tt> or an array
of strings being the names of the elements to respect <a
href="Element.html#M005608">whitespace</a> for. Defaults to :<tt>all</tt>.

</li>
<li><tt>:compress_whitespace</tt> the value can be :<tt>all</tt> or an array of
strings being the names of the elements to ignore <a
href="Element.html#M005608">whitespace</a> on. Overrides
:<tt>respect_whitespace</tt>.

</li>
<li><tt>:<a href="Element.html#M005609">ignore_whitespace_nodes</a></tt> the
value can be :<tt>all</tt> or an array of strings being the names of the
elements in which to ignore <a
href="Element.html#M005608">whitespace</a>-only nodes. If this is set, <a
href="Text.html">Text</a> nodes which contain only <a
href="Element.html#M005608">whitespace</a> will not be added to the <a
href="Element.html#M005607">document</a> tree.

</li>
<li><tt>:<a href="Element.html#M005610">raw</a></tt> can be :<tt>all</tt>, or
an array of strings being the names of the elements to process in <a
href="Element.html#M005610">raw</a> mode. In <a
href="Element.html#M005610">raw</a> mode, special characters in <a
href="Element.html#M005626">text</a> is not converted to or from entities.

</li>
</ul>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M005634" class="method-detail">
        <a name="M005634"></a>

        <div class="method-heading">
          <a href="Element.src/M005634.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005634.html');return false;">
          <span class="method-name">add_attribute</span><span class="method-args">( key, value=nil )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Adds an <a href="Element.html#M005632">attribute</a> to this element,
overwriting any existing <a href="Element.html#M005632">attribute</a> by
the same name.
</p>
<table>
<tr><td valign="top">key:</td><td>can be either an <a href="Attribute.html">Attribute</a> or a <a
href="../String.html">String</a>. If an <a
href="Attribute.html">Attribute</a>, the <a
href="Element.html#M005632">attribute</a> is added to the list of <a
href="Element.html">Element</a> attributes. If <a
href="../String.html">String</a>, the argument is used as the name of the
<a href="Element.html#M005602">new</a> <a
href="Element.html#M005632">attribute</a>, and the value parameter must be
supplied.

</td></tr>
<tr><td valign="top">value:</td><td>Required if <tt>key</tt> is a <a href="../String.html">String</a>, and
ignored if the first argument is an <a href="Attribute.html">Attribute</a>.
This is a <a href="../String.html">String</a>, and is used as the value of
the <a href="Element.html#M005602">new</a> <a
href="Attribute.html">Attribute</a>. This should be the unnormalized value
of the <a href="Element.html#M005632">attribute</a> (without entities).

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Attribute.html">Attribute</a> added

</td></tr>
</table>
<pre>
 e = Element.new 'e'
 e.add_attribute( 'a', 'b' )               #-&gt; &lt;e a='b'/&gt;
 e.add_attribute( 'x:a', 'c' )             #-&gt; &lt;e a='b' x:a='c'/&gt;
 e.add_attribute Attribute.new('b', 'd')   #-&gt; &lt;e a='b' x:a='c' b='d'/&gt;
</pre>
        </div>
      </div>

      <div id="method-M005635" class="method-detail">
        <a name="M005635"></a>

        <div class="method-heading">
          <a href="Element.src/M005635.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005635.html');return false;">
          <span class="method-name">add_attributes</span><span class="method-args">(hash)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add multiple attributes to this element.
</p>
<table>
<tr><td valign="top">hash:</td><td>is either a hash, or array of arrays

</td></tr>
</table>
<pre>
 el.add_attributes( {&quot;name1&quot;=&gt;&quot;value1&quot;, &quot;name2&quot;=&gt;&quot;value2&quot;} )
 el.add_attributes( [ [&quot;name1&quot;,&quot;value1&quot;], [&quot;name2&quot;=&gt;&quot;value2&quot;] ] )
</pre>
        </div>
      </div>

      <div id="method-M005616" class="method-detail">
        <a name="M005616"></a>

        <div class="method-heading">
          <a href="Element.src/M005616.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005616.html');return false;">
          <span class="method-name">add_element</span><span class="method-args">(element, attrs=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Adds a child to this element, optionally setting attributes in the element.
</p>
<table>
<tr><td valign="top">element:</td><td>optional. If <a href="Element.html">Element</a>, the element is added.
Otherwise, a <a href="Element.html#M005602">new</a> <a
href="Element.html">Element</a> is constructed with the argument (see
Element.initialize).

</td></tr>
<tr><td valign="top">attrs:</td><td>If supplied, must be a <a href="../Hash.html">Hash</a> containing <a
href="../String.html">String</a> name,value pairs, which will be used to
set the attributes of the <a href="Element.html#M005602">new</a> <a
href="Element.html">Element</a>.

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html">Element</a> that was added

</td></tr>
</table>
<pre>
 el = doc.add_element 'my-tag'
 el = doc.add_element 'my-tag', {'attr1'=&gt;'val1', 'attr2'=&gt;'val2'}
 el = Element.new 'my-tag'
 doc.add_element el
</pre>
        </div>
      </div>

      <div id="method-M005614" class="method-detail">
        <a name="M005614"></a>

        <div class="method-heading">
          <a href="Element.src/M005614.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005614.html');return false;">
          <span class="method-name">add_namespace</span><span class="method-args">( prefix, uri=nil )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Adds a <a href="Element.html#M005613">namespace</a> to this element.
</p>
<table>
<tr><td valign="top">prefix:</td><td>the prefix string, or the <a href="Element.html#M005613">namespace</a> <a
href="../URI.html">URI</a> if <tt>uri</tt> is not supplied

</td></tr>
<tr><td valign="top">uri:</td><td>the <a href="Element.html#M005613">namespace</a> <a
href="../URI.html">URI</a>. May be nil, in which <tt>prefix</tt> is used as
the <a href="../URI.html">URI</a>

</td></tr>
</table>
<p>
Evaluates to: this <a href="Element.html">Element</a>
</p>
<pre>
 a = Element.new(&quot;a&quot;)
 a.add_namespace(&quot;xmlns:foo&quot;, &quot;bar&quot; )
 a.add_namespace(&quot;foo&quot;, &quot;bar&quot;)  # shorthand for previous line
 a.add_namespace(&quot;twiddle&quot;)
 puts a   #-&gt; &lt;a xmlns:foo='bar' xmlns='twiddle'/&gt;
</pre>
        </div>
      </div>

      <div id="method-M005629" class="method-detail">
        <a name="M005629"></a>

        <div class="method-heading">
          <a href="Element.src/M005629.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005629.html');return false;">
          <span class="method-name">add_text</span><span class="method-args">( text )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A helper method to add a <a href="Text.html">Text</a> child. Actual <a
href="Text.html">Text</a> instances can be added with regular <a
href="Parent.html">Parent</a> methods, such as add() and &lt;&lt;()
</p>
<table>
<tr><td valign="top"><a href="Element.html#M005626">text</a>:</td><td>if a <a href="../String.html">String</a>, a <a
href="Element.html#M005602">new</a> <a href="Text.html">Text</a> instance
is created and added to the parent. If <a href="Text.html">Text</a>, the
object is added directly.

</td></tr>
<tr><td valign="top">Returns:</td><td>this <a href="Element.html">Element</a>

</td></tr>
</table>
<pre>
 e = Element.new('a')          #-&gt; &lt;e/&gt;
 e.add_text 'foo'              #-&gt; &lt;e&gt;foo&lt;/e&gt;
 e.add_text Text.new(' bar')    #-&gt; &lt;e&gt;foo bar&lt;/e&gt;
</pre>
<p>
Note that at the end of this example, the branch has <b>3</b> nodes; the
&#8216;e&#8217; element and <b>2</b> <a href="Text.html">Text</a> node
children.
</p>
        </div>
      </div>

      <div id="method-M005632" class="method-detail">
        <a name="M005632"></a>

        <div class="method-heading">
          <a href="Element.src/M005632.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005632.html');return false;">
          <span class="method-name">attribute</span><span class="method-args">( name, namespace=nil )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Attributes.html">Attributes</a> #
</p>
        </div>
      </div>

      <div id="method-M005637" class="method-detail">
        <a name="M005637"></a>

        <div class="method-heading">
          <a href="Element.src/M005637.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005637.html');return false;">
          <span class="method-name">cdatas</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get an array of all <a href="CData.html">CData</a> children. IMMUTABLE
</p>
        </div>
      </div>

      <div id="method-M005604" class="method-detail">
        <a name="M005604"></a>

        <div class="method-heading">
          <a href="Element.src/M005604.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005604.html');return false;">
          <span class="method-name">clone</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a shallow copy of self.
</p>
<pre>
  d = Document.new &quot;&lt;a&gt;&lt;b/&gt;&lt;b/&gt;&lt;c&gt;&lt;d/&gt;&lt;/c&gt;&lt;/a&gt;&quot;
  new_a = d.root.clone
  puts new_a  # =&gt; &quot;&lt;a/&gt;&quot;
</pre>
        </div>
      </div>

      <div id="method-M005638" class="method-detail">
        <a name="M005638"></a>

        <div class="method-heading">
          <a href="Element.src/M005638.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005638.html');return false;">
          <span class="method-name">comments</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get an array of all <a href="Comment.html">Comment</a> children. IMMUTABLE
</p>
        </div>
      </div>

      <div id="method-M005636" class="method-detail">
        <a name="M005636"></a>

        <div class="method-heading">
          <a href="Element.src/M005636.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005636.html');return false;">
          <span class="method-name">delete_attribute</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Removes an <a href="Element.html#M005632">attribute</a>
</p>
<table>
<tr><td valign="top">key:</td><td>either an <a href="Attribute.html">Attribute</a> or a <a
href="../String.html">String</a>. In either case, the <a
href="Element.html#M005632">attribute</a> is found by matching the <a
href="Element.html#M005632">attribute</a> name to the argument, and then
removed. If no <a href="Element.html#M005632">attribute</a> is found, no
action is taken.

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html#M005632">attribute</a> removed, or nil if this <a
href="Element.html">Element</a> did not contain a matching <a
href="Element.html#M005632">attribute</a>

</td></tr>
</table>
<pre>
 e = Element.new('E')
 e.add_attribute( 'name', 'Sean' )             #-&gt; &lt;E name='Sean'/&gt;
 r = e.add_attribute( 'sur:name', 'Russell' )  #-&gt; &lt;E name='Sean' sur:name='Russell'/&gt;
 e.delete_attribute( 'name' )                  #-&gt; &lt;E sur:name='Russell'/&gt;
 e.delete_attribute( r )                       #-&gt; &lt;E/&gt;
</pre>
        </div>
      </div>

      <div id="method-M005617" class="method-detail">
        <a name="M005617"></a>

        <div class="method-heading">
          <a href="Element.src/M005617.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005617.html');return false;">
          <span class="method-name">delete_element</span><span class="method-args">(element)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Deletes a child element.
</p>
<table>
<tr><td valign="top">element:</td><td>Must be an <tt><a href="Element.html">Element</a></tt>, <tt><a
href="../String.html">String</a></tt>, or <tt><a
href="../Integer.html">Integer</a></tt>. If <a
href="Element.html">Element</a>, the element is removed. If <a
href="../String.html">String</a>, the element is found (via <a
href="XPath.html">XPath</a>) and removed. &lt;em&gt;This means that any
parent can remove any descendant.&lt;em&gt; If <a
href="../Integer.html">Integer</a>, the <a href="Element.html">Element</a>
indexed by that number will be removed.

</td></tr>
<tr><td valign="top">Returns:</td><td>the element that was removed.

</td></tr>
</table>
<pre>
 doc.delete_element &quot;/a/b/c[@id='4']&quot;
 doc.delete_element doc.elements[&quot;//k&quot;]
 doc.delete_element 1
</pre>
        </div>
      </div>

      <div id="method-M005615" class="method-detail">
        <a name="M005615"></a>

        <div class="method-heading">
          <a href="Element.src/M005615.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005615.html');return false;">
          <span class="method-name">delete_namespace</span><span class="method-args">(namespace=&quot;xmlns&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Removes a <a href="Element.html#M005613">namespace</a> from this node. This
only works if the <a href="Element.html#M005613">namespace</a> is actually
declared in this node. If no argument is passed, deletes the default <a
href="Element.html#M005613">namespace</a>.
</p>
<p>
Evaluates to: this element
</p>
<pre>
 doc = Document.new &quot;&lt;a xmlns:foo='bar' xmlns='twiddle'/&gt;&quot;
 doc.root.delete_namespace
 puts doc     # -&gt; &lt;a xmlns:foo='bar'/&gt;
 doc.root.delete_namespace 'foo'
 puts doc     # -&gt; &lt;a/&gt;
</pre>
        </div>
      </div>

      <div id="method-M005607" class="method-detail">
        <a name="M005607"></a>

        <div class="method-heading">
          <a href="Element.src/M005607.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005607.html');return false;">
          <span class="method-name">document</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to the <a href="Element.html#M005607">document</a> to which this
element belongs, or nil if this element doesn&#8216;t belong to a <a
href="Element.html#M005607">document</a>.
</p>
        </div>
      </div>

      <div id="method-M005621" class="method-detail">
        <a name="M005621"></a>

        <div class="method-heading">
          <a href="Element.src/M005621.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005621.html');return false;">
          <span class="method-name">each_element</span><span class="method-args">( xpath=nil ) {|Element| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Synonym for Element.elements.each
</p>
        </div>
      </div>

      <div id="method-M005619" class="method-detail">
        <a name="M005619"></a>

        <div class="method-heading">
          <a href="Element.src/M005619.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005619.html');return false;">
          <span class="method-name">each_element_with_attribute</span><span class="method-args">( key, value=nil, max=0, name=nil ) {|Element| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Iterates through the child elements, yielding for each <a
href="Element.html">Element</a> that has a particular <a
href="Element.html#M005632">attribute</a> set.
</p>
<table>
<tr><td valign="top">key:</td><td>the name of the <a href="Element.html#M005632">attribute</a> to search for

</td></tr>
<tr><td valign="top">value:</td><td>the value of the <a href="Element.html#M005632">attribute</a>

</td></tr>
<tr><td valign="top">max:</td><td>(optional) causes this method to return after yielding for this number of
matching children

</td></tr>
<tr><td valign="top">name:</td><td>(optional) if supplied, this is an <a href="XPath.html">XPath</a> that
filters the children to check.

</td></tr>
</table>
<pre>
 doc = Document.new &quot;&lt;a&gt;&lt;b @id='1'/&gt;&lt;c @id='2'/&gt;&lt;d @id='1'/&gt;&lt;e/&gt;&lt;/a&gt;&quot;
 # Yields b, c, d
 doc.root.each_element_with_attribute( 'id' ) {|e| p e}
 # Yields b, d
 doc.root.each_element_with_attribute( 'id', '1' ) {|e| p e}
 # Yields b
 doc.root.each_element_with_attribute( 'id', '1', 1 ) {|e| p e}
 # Yields d
 doc.root.each_element_with_attribute( 'id', '1', 0, 'd' ) {|e| p e}
</pre>
        </div>
      </div>

      <div id="method-M005620" class="method-detail">
        <a name="M005620"></a>

        <div class="method-heading">
          <a href="Element.src/M005620.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005620.html');return false;">
          <span class="method-name">each_element_with_text</span><span class="method-args">( text=nil, max=0, name=nil ) {|Element| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Iterates through the children, yielding for each <a
href="Element.html">Element</a> that has a particular <a
href="Element.html#M005626">text</a> set.
</p>
<table>
<tr><td valign="top"><a href="Element.html#M005626">text</a>:</td><td>the <a href="Element.html#M005626">text</a> to search for. If nil, or not
supplied, will itterate over all <tt><a
href="Element.html">Element</a></tt> children that contain at least one
<tt><a href="Text.html">Text</a></tt> node.

</td></tr>
<tr><td valign="top">max:</td><td>(optional) causes this method to return after yielding for this number of
matching children

</td></tr>
<tr><td valign="top">name:</td><td>(optional) if supplied, this is an <a href="XPath.html">XPath</a> that
filters the children to check.

</td></tr>
</table>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b&gt;b&lt;/b&gt;&lt;c&gt;b&lt;/c&gt;&lt;d&gt;d&lt;/d&gt;&lt;e/&gt;&lt;/a&gt;'
 # Yields b, c, d
 doc.each_element_with_text {|e|p e}
 # Yields b, c
 doc.each_element_with_text('b'){|e|p e}
 # Yields b
 doc.each_element_with_text('b', 1){|e|p e}
 # Yields d
 doc.each_element_with_text(nil, 0, 'd'){|e|p e}
</pre>
        </div>
      </div>

      <div id="method-M005622" class="method-detail">
        <a name="M005622"></a>

        <div class="method-heading">
          <a href="Element.src/M005622.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005622.html');return false;">
          <span class="method-name">get_elements</span><span class="method-args">( xpath )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Synonym for Element.to_a This is a little slower than calling elements.each
directly.
</p>
<table>
<tr><td valign="top"><a href="Element.html#M005631">xpath</a>:</td><td>any <a href="XPath.html">XPath</a> by which to search for elements in the
tree

</td></tr>
<tr><td valign="top">Returns:</td><td>an array of <a href="Elements.html">Elements</a> that match the supplied
path

</td></tr>
</table>
        </div>
      </div>

      <div id="method-M005627" class="method-detail">
        <a name="M005627"></a>

        <div class="method-heading">
          <a href="Element.src/M005627.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005627.html');return false;">
          <span class="method-name">get_text</span><span class="method-args">(path = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the first child <a href="Text.html">Text</a> node, if any, or
<tt>nil</tt> otherwise. This method returns the actual <tt><a
href="Text.html">Text</a></tt> node, rather than the <a
href="../String.html">String</a> content.
</p>
<pre>
 doc = Document.new &quot;&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;&quot;
 # The element 'p' has two text elements, &quot;some text &quot; and &quot; more text&quot;.
 doc.root.get_text.value            #-&gt; &quot;some text &quot;
</pre>
        </div>
      </div>

      <div id="method-M005633" class="method-detail">
        <a name="M005633"></a>

        <div class="method-heading">
          <a href="Element.src/M005633.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005633.html');return false;">
          <span class="method-name">has_attributes?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to <tt>true</tt> if this element has any attributes set, false
otherwise.
</p>
        </div>
      </div>

      <div id="method-M005618" class="method-detail">
        <a name="M005618"></a>

        <div class="method-heading">
          <a href="Element.src/M005618.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005618.html');return false;">
          <span class="method-name">has_elements?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to <tt>true</tt> if this element has at least one child <a
href="Element.html">Element</a>
</p>
<pre>
 doc = Document.new &quot;&lt;a&gt;&lt;b/&gt;&lt;c&gt;Text&lt;/c&gt;&lt;/a&gt;&quot;
 doc.root.has_elements               # -&gt; true
 doc.elements[&quot;/a/b&quot;].has_elements   # -&gt; false
 doc.elements[&quot;/a/c&quot;].has_elements   # -&gt; false
</pre>
        </div>
      </div>

      <div id="method-M005625" class="method-detail">
        <a name="M005625"></a>

        <div class="method-heading">
          <a href="Element.src/M005625.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005625.html');return false;">
          <span class="method-name">has_text?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to <tt>true</tt> if this element has at least one <a
href="Text.html">Text</a> child
</p>
        </div>
      </div>

      <div id="method-M005609" class="method-detail">
        <a name="M005609"></a>

        <div class="method-heading">
          <a href="Element.src/M005609.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005609.html');return false;">
          <span class="method-name">ignore_whitespace_nodes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M005603" class="method-detail">
        <a name="M005603"></a>

        <div class="method-heading">
          <a href="Element.src/M005603.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005603.html');return false;">
          <span class="method-name">inspect</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M005639" class="method-detail">
        <a name="M005639"></a>

        <div class="method-heading">
          <a href="Element.src/M005639.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005639.html');return false;">
          <span class="method-name">instructions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get an array of all <a href="Instruction.html">Instruction</a> children.
IMMUTABLE
</p>
        </div>
      </div>

      <div id="method-M005613" class="method-detail">
        <a name="M005613"></a>

        <div class="method-heading">
          <a href="Element.src/M005613.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005613.html');return false;">
          <span class="method-name">namespace</span><span class="method-args">(prefix=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evalutas to the <a href="../URI.html">URI</a> for a prefix, or the empty
string if no such <a href="Element.html#M005613">namespace</a> is declared
for this element. Evaluates recursively for ancestors. Returns the default
<a href="Element.html#M005613">namespace</a>, if there is one.
</p>
<table>
<tr><td valign="top">prefix:</td><td>the prefix to search for. If not supplied, returns the default <a
href="Element.html#M005613">namespace</a> if one exists

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html#M005613">namespace</a> <a
href="../URI.html">URI</a> as a <a href="../String.html">String</a>, or nil
if no such <a href="Element.html#M005613">namespace</a> exists. If the <a
href="Element.html#M005613">namespace</a> is undefined, returns an empty
string

</td></tr>
</table>
<pre>
 doc = Document.new(&quot;&lt;a xmlns='1' xmlns:y='2'&gt;&lt;b/&gt;&lt;c xmlns:z='3'/&gt;&lt;/a&gt;&quot;)
 b = doc.elements['//b']
 b.namespace           # -&gt; '1'
 b.namespace(&quot;y&quot;)      # -&gt; '2'
</pre>
        </div>
      </div>

      <div id="method-M005612" class="method-detail">
        <a name="M005612"></a>

        <div class="method-heading">
          <a href="Element.src/M005612.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005612.html');return false;">
          <span class="method-name">namespaces</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M005623" class="method-detail">
        <a name="M005623"></a>

        <div class="method-heading">
          <a href="Element.src/M005623.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005623.html');return false;">
          <span class="method-name">next_element</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the next sibling that is an element, or nil if there is no <a
href="Element.html">Element</a> sibling after this one
</p>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;text&lt;c/&gt;&lt;/a&gt;'
 doc.root.elements['b'].next_element          #-&gt; &lt;c/&gt;
 doc.root.elements['c'].next_element          #-&gt; nil
</pre>
        </div>
      </div>

      <div id="method-M005630" class="method-detail">
        <a name="M005630"></a>

        <div class="method-heading">
          <a href="Element.src/M005630.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005630.html');return false;">
          <span class="method-name">node_type</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M005611" class="method-detail">
        <a name="M005611"></a>

        <div class="method-heading">
          <a href="Element.src/M005611.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005611.html');return false;">
          <span class="method-name">prefixes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to an <tt><a href="../Array.html">Array</a></tt> containing the
<a href="Element.html#M005611">prefixes</a> (names) of all defined <a
href="Element.html#M005612">namespaces</a> at this context node.
</p>
<pre>
 doc = Document.new(&quot;&lt;a xmlns:x='1' xmlns:y='2'&gt;&lt;b/&gt;&lt;c xmlns:z='3'/&gt;&lt;/a&gt;&quot;)
 doc.elements['//b'].prefixes # -&gt; ['x', 'y']
</pre>
        </div>
      </div>

      <div id="method-M005624" class="method-detail">
        <a name="M005624"></a>

        <div class="method-heading">
          <a href="Element.src/M005624.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005624.html');return false;">
          <span class="method-name">previous_element</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the previous sibling that is an element, or nil if there is no <a
href="Element.html">Element</a> sibling prior to this one
</p>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;text&lt;c/&gt;&lt;/a&gt;'
 doc.root.elements['c'].previous_element          #-&gt; &lt;b/&gt;
 doc.root.elements['b'].previous_element          #-&gt; nil
</pre>
        </div>
      </div>

      <div id="method-M005610" class="method-detail">
        <a name="M005610"></a>

        <div class="method-heading">
          <a href="Element.src/M005610.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005610.html');return false;">
          <span class="method-name">raw</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to <tt>true</tt> if <a href="Element.html#M005610">raw</a> mode
is set for this element. This is the case if the context has :<tt><a
href="Element.html#M005610">raw</a></tt> set to :<tt>all</tt> or an array
containing the name of this element.
</p>
<p>
The evaluation is tested against <tt>expanded_name</tt>, and so is <a
href="Element.html#M005613">namespace</a> sensitive.
</p>
        </div>
      </div>

      <div id="method-M005606" class="method-detail">
        <a name="M005606"></a>

        <div class="method-heading">
          <a href="Element.src/M005606.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005606.html');return false;">
          <span class="method-name">root</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M005605" class="method-detail">
        <a name="M005605"></a>

        <div class="method-heading">
          <a href="Element.src/M005605.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005605.html');return false;">
          <span class="method-name">root_node</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to the <a href="Element.html#M005606">root</a> node of the <a
href="Element.html#M005607">document</a> that this element belongs to. If
this element doesn&#8216;t belong to a <a
href="Element.html#M005607">document</a>, but does belong to another <a
href="Element.html">Element</a>, the parent&#8216;s <a
href="Element.html#M005606">root</a> will be returned, until the earliest
ancestor is found.
</p>
<p>
Note that this is not the same as the <a
href="Element.html#M005607">document</a> element. In the following example,
&lt;a&gt; is the <a href="Element.html#M005607">document</a> element, and
the <a href="Element.html#M005606">root</a> node is the parent node of the
<a href="Element.html#M005607">document</a> element. You may ask yourself
why the <a href="Element.html#M005606">root</a> node is useful: consider
the doctype and <a href="../XML.html">XML</a> declaration, and any
processing <a href="Element.html#M005639">instructions</a> before the <a
href="Element.html#M005607">document</a> element&#8230; they are children
of the <a href="Element.html#M005606">root</a> node, or siblings of the <a
href="Element.html#M005607">document</a> element. The only time this
isn&#8216;t true is when an <a href="Element.html">Element</a> is created
that is not part of any <a href="Document.html">Document</a>. In this case,
the ancestor that has no parent acts as the <a
href="Element.html#M005606">root</a> node.
</p>
<pre>
 d = Document.new '&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;/b&gt;&lt;/a&gt;'
 a = d[1] ; c = a[1][1]
 d.root_node == d   # TRUE
 a.root_node        # namely, d
 c.root_node        # again, d
</pre>
        </div>
      </div>

      <div id="method-M005626" class="method-detail">
        <a name="M005626"></a>

        <div class="method-heading">
          <a href="Element.src/M005626.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005626.html');return false;">
          <span class="method-name">text</span><span class="method-args">( path = nil )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A convenience method which returns the <a href="../String.html">String</a>
value of the <em>first</em> child <a href="Element.html#M005626">text</a>
element, if one exists, and <tt>nil</tt> otherwise.
</p>
<p>
<em>Note that an element may have multiple <a href="Text.html">Text</a>
elements, perhaps separated by other children</em>. Be aware that this
method only returns the first <a href="Text.html">Text</a> node.
</p>
<p>
This method returns the <tt>value</tt> of the first <a
href="Element.html#M005626">text</a> child node, which ignores the <tt><a
href="Element.html#M005610">raw</a></tt> setting, so always returns
normalized <a href="Element.html#M005626">text</a>. See the Text::value
documentation.
</p>
<pre>
 doc = Document.new &quot;&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;&quot;
 # The element 'p' has two text elements, &quot;some text &quot; and &quot; more text&quot;.
 doc.root.text              #-&gt; &quot;some text &quot;
</pre>
        </div>
      </div>

      <div id="method-M005628" class="method-detail">
        <a name="M005628"></a>

        <div class="method-heading">
          <a href="Element.src/M005628.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005628.html');return false;">
          <span class="method-name">text=</span><span class="method-args">( text )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the first <a href="Text.html">Text</a> child of this object. See <a
href="Element.html#M005626">text</a>() for a discussion about <a
href="Text.html">Text</a> children.
</p>
<p>
If a <a href="Text.html">Text</a> child already exists, the child is
replaced by this content. This means that <a href="Text.html">Text</a>
content can be deleted by calling this method with a nil argument. In this
case, the next <a href="Text.html">Text</a> child becomes the first <a
href="Text.html">Text</a> child. In no case is the order of any siblings
disturbed.
</p>
<table>
<tr><td valign="top"><a href="Element.html#M005626">text</a>:</td><td>If a <a href="../String.html">String</a>, a <a
href="Element.html#M005602">new</a> <a href="Text.html">Text</a> child is
created and added to this <a href="Element.html">Element</a> as the first
<a href="Text.html">Text</a> child. If <a href="Text.html">Text</a>, the <a
href="Element.html#M005626">text</a> is set as the first <a
href="Child.html">Child</a> element. If nil, then any existing first <a
href="Text.html">Text</a> child is removed.

</td></tr>
<tr><td valign="top">Returns:</td><td>this <a href="Element.html">Element</a>.

</td></tr>
</table>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;&lt;/a&gt;'
 doc.root.text = 'Sean'      #-&gt; '&lt;a&gt;&lt;b/&gt;Sean&lt;/a&gt;'
 doc.root.text = 'Elliott'   #-&gt; '&lt;a&gt;&lt;b/&gt;Elliott&lt;/a&gt;'
 doc.root.add_element 'c'    #-&gt; '&lt;a&gt;&lt;b/&gt;Elliott&lt;c/&gt;&lt;/a&gt;'
 doc.root.text = 'Russell'   #-&gt; '&lt;a&gt;&lt;b/&gt;Russell&lt;c/&gt;&lt;/a&gt;'
 doc.root.text = nil         #-&gt; '&lt;a&gt;&lt;b/&gt;&lt;c/&gt;&lt;/a&gt;'
</pre>
        </div>
      </div>

      <div id="method-M005640" class="method-detail">
        <a name="M005640"></a>

        <div class="method-heading">
          <a href="Element.src/M005640.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005640.html');return false;">
          <span class="method-name">texts</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get an array of all <a href="Text.html">Text</a> children. IMMUTABLE
</p>
        </div>
      </div>

      <div id="method-M005608" class="method-detail">
        <a name="M005608"></a>

        <div class="method-heading">
          <a href="Element.src/M005608.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005608.html');return false;">
          <span class="method-name">whitespace</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Evaluates to <tt>true</tt> if <a href="Element.html#M005608">whitespace</a>
is respected for this element. This is the case if:
</p>
<ol>
<li>Neither :<tt>respect_whitespace</tt> nor :<tt>compress_whitespace</tt> has
any value

</li>
<li>The context has :<tt>respect_whitespace</tt> set to :<tt>all</tt> or an
array containing the name of this element, and
:<tt>compress_whitespace</tt> isn&#8216;t set to :<tt>all</tt> or an array
containing the name of this element.

</li>
</ol>
<p>
The evaluation is tested against <tt>expanded_name</tt>, and so is <a
href="Element.html#M005613">namespace</a> sensitive.
</p>
        </div>
      </div>

      <div id="method-M005641" class="method-detail">
        <a name="M005641"></a>

        <div class="method-heading">
          <a href="Element.src/M005641.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005641.html');return false;">
          <span class="method-name">write</span><span class="method-args">(writer=$stdout, indent=-1, transitive=false, ie_hack=false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <h2>DEPRECATED</h2>
<p>
See <a href="Formatters.html">REXML::Formatters</a>
</p>
<p>
Writes out this element, and recursively, all children.
</p>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;&lt;&lt; string&#8217;; this is
where the

</td></tr>
</table>
<pre>
  document will be written.
</pre>
<table>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be this number of spaces, and children will be indented an additional
amount. Defaults to -1

</td></tr>
<tr><td valign="top">transitive:</td><td>If transitive is true and indent is &gt;= 0, then the output will be
pretty-printed in such a way that the added <a
href="Element.html#M005608">whitespace</a> does not affect the parse tree
of the <a href="Element.html#M005607">document</a>

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper <a href="../XML.html">XML</a>, we have to provide a hack to generate
<a href="../XML.html">XML</a> that IE&#8216;s limited abilities can handle.
This hack inserts a space before the /&gt; on empty tags. Defaults to false

</td></tr>
</table>
<pre>
 out = ''
 doc.write( out )     #-&gt; doc is written to the string 'out'
 doc.write( $stdout ) #-&gt; doc written to the console
</pre>
        </div>
      </div>

      <div id="method-M005631" class="method-detail">
        <a name="M005631"></a>

        <div class="method-heading">
          <a href="Element.src/M005631.html" target="Code" class="method-signature"
            onclick="popupCode('Element.src/M005631.html');return false;">
          <span class="method-name">xpath</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

<div style="font-size: smaller; text-align:center" id="credits">
 <!-- 2 --><p> <a href="http://www.ruby-doc.org">ruby-doc.org</a> is a service of <a href="http://www.jamesbritt.com">James Britt</a> and <a href="http://www.neurogami.com">Neurogami</a>, a <a href="http://www.neurogami.com"> Ruby application development company in Phoenix, AZ</a>. </p>
  <p><span>Documentation content on <a href="http://ruby-doc.org">ruby-doc.org</a> is provided by </span><a href="http://www.ruby-doc.org/about">remarkable members</a> of the Ruby community.</p>
  <p>For more information on the Ruby programming language, visit <a href="http://www.ruby-lang.org">ruby-lang.org</a>.</p>
  <p>Want to help improve Ruby's API docs? See <a href="/documentation-guidelines.html"> Ruby Documentation Guidelines</a>.</p>
  </div>



</body>
</html>