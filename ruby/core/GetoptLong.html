<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: GetoptLong</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">GetoptLong</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/getoptlong_rb.html">
                lib/getoptlong.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="Object.html">
                Object
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The <a href="GetoptLong.html">GetoptLong</a> class allows you to parse
command line options similarly to the GNU getopt_long() C library call.
Note, however, that <a href="GetoptLong.html">GetoptLong</a> is a pure Ruby
implementation.
</p>
<p>
<a href="GetoptLong.html">GetoptLong</a> allows for POSIX-style options
like <tt>&#8212;file</tt> as well as single letter options like <tt>-f</tt>
</p>
<p>
The empty option <tt>&#8212;</tt> (two minus symbols) is used to end option
processing. This can be particularly important if options have optional
arguments.
</p>
<p>
Here is a simple example of usage:
</p>
<pre>
    # == Synopsis
    #
    # hello: greets user, demonstrates command line parsing
    #
    # == Usage
    #
    # hello [OPTION] ... DIR
    #
    # -h, --help:
    #    show help
    #
    # --repeat x, -n x:
    #    repeat x times
    #
    # --name [name]:
    #    greet user by name, if name not supplied default is John
    #
    # DIR: The directory in which to issue the greeting.

    require 'getoptlong'
    require 'rdoc/usage'

    opts = GetoptLong.new(
      [ '--help', '-h', GetoptLong::NO_ARGUMENT ],
      [ '--repeat', '-n', GetoptLong::REQUIRED_ARGUMENT ],
      [ '--name', GetoptLong::OPTIONAL_ARGUMENT ]
    )

    dir = nil
    name = nil
    repetitions = 1
    opts.each do |opt, arg|
      case opt
        when '--help'
          RDoc::usage
        when '--repeat'
          repetitions = arg.to_i
        when '--name'
          if arg == ''
            name = 'John'
          else
            name = arg
          end
      end
    end

    if ARGV.length != 1
      puts &quot;Missing dir argument (try --help)&quot;
      exit 0
    end

    dir = ARGV.shift

    Dir.chdir(dir)
    for i in (1..repetitions)
      print &quot;Hello&quot;
      if name
        print &quot;, #{name}&quot;
      end
      puts
    end
</pre>
<p>
Example command line:
</p>
<pre>
    hello -n 6 --name -- /tmp
</pre>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M001334">each</a>&nbsp;&nbsp;
      <a href="#M001335">each_option</a>&nbsp;&nbsp;
      <a href="#M001331">error_message</a>&nbsp;&nbsp;
      <a href="#M001332">get</a>&nbsp;&nbsp;
      <a href="#M001333">get_option</a>&nbsp;&nbsp;
      <a href="#M001325">new</a>&nbsp;&nbsp;
      <a href="#M001326">ordering=</a>&nbsp;&nbsp;
      <a href="#M001330">set_error</a>&nbsp;&nbsp;
      <a href="#M001327">set_options</a>&nbsp;&nbsp;
      <a href="#M001328">terminate</a>&nbsp;&nbsp;
      <a href="#M001329">terminated?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="GetoptLong/AmbigousOption.html" class="link">GetoptLong::AmbigousOption</a><br />
Class <a href="GetoptLong/Error.html" class="link">GetoptLong::Error</a><br />
Class <a href="GetoptLong/InvalidOption.html" class="link">GetoptLong::InvalidOption</a><br />
Class <a href="GetoptLong/MissingArgument.html" class="link">GetoptLong::MissingArgument</a><br />
Class <a href="GetoptLong/NeedlessArgument.html" class="link">GetoptLong::NeedlessArgument</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ORDERINGS</td>
          <td>=</td>
          <td class="context-item-value">[REQUIRE_ORDER = 0, PERMUTE = 1, RETURN_IN_ORDER = 2]</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Orderings.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ARGUMENT_FLAGS</td>
          <td>=</td>
          <td class="context-item-value">[NO_ARGUMENT = 0, REQUIRED_ARGUMENT = 1,     OPTIONAL_ARGUMENT = 2]</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Argument flags.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">STATUS_TERMINATED</td>
          <td>=</td>
          <td class="context-item-value">0, 1, 2</td>
        </tr>
        </table>
      </div>
    </div>

    <div id="aliases-list">
      <h3 class="section-bar">External Aliases</h3>

      <div class="name-list">
                        <table summary="aliases">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">quiet</td>
          <td>-&gt;</td>
          <td class="context-item-value">quiet?</td>
        </tr>
      <tr class="top-aligned-row context-row">
        <td>&nbsp;</td>
        <td colspan="2" class="context-item-desc">
`quiet?&#8217; is an alias of `quiet&#8217;.

</td>
      </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">error</td>
          <td>-&gt;</td>
          <td class="context-item-value">error?</td>
        </tr>
      <tr class="top-aligned-row context-row">
        <td>&nbsp;</td>
        <td colspan="2" class="context-item-desc">
`error?&#8217; is an alias of `error&#8217;.

</td>
      </tr>
                        </table>
      </div>
    </div>


    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">error</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Examine whether an option processing is failed.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ordering</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Return ordering.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">quiet</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
<a href="Set.html">Set</a>/Unset `quiet&#8217; mode.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">quiet</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Return the flag of `quiet&#8217; mode.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M001325" class="method-detail">
        <a name="M001325"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001325.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001325.html');return false;">
          <span class="method-name">new</span><span class="method-args">(*arguments)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Set.html">Set</a> up option processing.
</p>
<p>
The options to support are passed to <a
href="GetoptLong.html#M001325">new</a>() as an array of arrays. Each
sub-array contains any number of <a href="String.html">String</a> option
names which carry the same meaning, and one of the following flags:
</p>
<table>
<tr><td valign="top">GetoptLong::NO_ARGUMENT :</td><td>Option does not take an argument.

</td></tr>
<tr><td valign="top">GetoptLong::REQUIRED_ARGUMENT :</td><td>Option always takes an argument.

</td></tr>
<tr><td valign="top">GetoptLong::OPTIONAL_ARGUMENT :</td><td>Option may or may not take an argument.

</td></tr>
</table>
<p>
The first option name is considered to be the preferred (canonical) name.
Other than that, the elements of <a href="GetoptLong.html#M001334">each</a>
sub-array can be in any order.
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M001334" class="method-detail">
        <a name="M001334"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001334.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001334.html');return false;">
          <span class="method-name">each</span><span class="method-args">() {|option_name, option_argument| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Iterator version of `<a href="GetoptLong.html#M001332">get</a>&#8217;.
</p>
<p>
The block is called repeatedly with two arguments: The first is the option
name. The second is the argument which followed it (if any). Example:
(&#8217;&#8212;opt&#8217;, &#8216;value&#8217;)
</p>
<p>
The option name is always converted to the first (preferred) name given in
the original options to <a
href="GetoptLong.html#M001325">GetoptLong.new</a>.
</p>
        </div>
      </div>

      <div id="method-M001335" class="method-detail">
        <a name="M001335"></a>

        <div class="method-heading">
          <span class="method-name">each_option</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetoptLong.html#M001334">each</a>
</p>
        </div>
      </div>

      <div id="method-M001331" class="method-detail">
        <a name="M001331"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001331.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001331.html');return false;">
          <span class="method-name">error_message</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the appropriate error message in POSIX-defined format. If no error
has occurred, returns nil.
</p>
        </div>
      </div>

      <div id="method-M001332" class="method-detail">
        <a name="M001332"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001332.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001332.html');return false;">
          <span class="method-name">get</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get next option name and its argument, as an <a href="Array.html">Array</a>
of two elements.
</p>
<p>
The option name is always converted to the first (preferred) name given in
the original options to <a
href="GetoptLong.html#M001325">GetoptLong.new</a>.
</p>
<p>
Example: [&#8217;&#8212;option&#8217;, &#8216;value&#8217;]
</p>
<p>
Returns nil if the processing is complete (as determined by
STATUS_TERMINATED).
</p>
        </div>
      </div>

      <div id="method-M001333" class="method-detail">
        <a name="M001333"></a>

        <div class="method-heading">
          <span class="method-name">get_option</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetoptLong.html#M001332">get</a>
</p>
        </div>
      </div>

      <div id="method-M001326" class="method-detail">
        <a name="M001326"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001326.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001326.html');return false;">
          <span class="method-name">ordering=</span><span class="method-args">(ordering)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Set.html">Set</a> the handling of the ordering of options and
arguments. A <a href="RuntimeError.html">RuntimeError</a> is raised if
option processing has already started.
</p>
<p>
The supplied value must be a member of GetoptLong::ORDERINGS. It alters the
processing of options as follows:
</p>
<p>
<b>REQUIRE_ORDER</b> :
</p>
<p>
<a href="Options.html">Options</a> are required to occur before
non-options.
</p>
<p>
Processing of options ends as soon as a word is encountered that has not
been preceded by an appropriate option flag.
</p>
<p>
For example, if -a and -b are options which do not take arguments, parsing
command line arguments of &#8217;-a one -b two&#8217; would result in
&#8216;one&#8217;, &#8217;-b&#8217;, &#8216;two&#8217; being left in ARGV,
and only (&#8217;-a&#8217;, &#8217;&#8217;) being processed as an
option/arg pair.
</p>
<p>
This is the default ordering, if the environment variable POSIXLY_CORRECT
is set. (This is for compatibility with GNU getopt_long.)
</p>
<p>
<b>PERMUTE</b> :
</p>
<p>
<a href="Options.html">Options</a> can occur anywhere in the command line
parsed. This is the default behavior.
</p>
<p>
Every sequence of words which can be interpreted as an option (with or
without argument) is treated as an option; non-option words are skipped.
</p>
<p>
For example, if -a does not require an argument and -b optionally takes an
argument, parsing &#8217;-a one -b two three&#8217; would result in
(&#8217;-a&#8217;,&#8217;&#8217;) and (&#8217;-b&#8217;, &#8216;two&#8217;)
being processed as option/arg pairs, and
&#8216;one&#8217;,&#8217;three&#8217; being left in ARGV.
</p>
<p>
If the ordering is set to PERMUTE but the environment variable
POSIXLY_CORRECT is set, REQUIRE_ORDER is used instead. This is for
compatibility with GNU getopt_long.
</p>
<p>
<b>RETURN_IN_ORDER</b> :
</p>
<p>
All words on the command line are processed as options. Words not preceded
by a short or long option flag are passed as arguments with an option of
&#8217;&#8217; (empty string).
</p>
<p>
For example, if -a requires an argument but -b does not, a command line of
&#8217;-a one -b two three&#8217; would result in option/arg pairs of
(&#8217;-a&#8217;, &#8216;one&#8217;) (&#8217;-b&#8217;, &#8217;&#8217;),
(&#8217;&#8217;, &#8216;two&#8217;), (&#8217;&#8217;, &#8216;three&#8217;)
being processed.
</p>
        </div>
      </div>

      <div id="method-M001327" class="method-detail">
        <a name="M001327"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001327.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001327.html');return false;">
          <span class="method-name">set_options</span><span class="method-args">(*arguments)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Set.html">Set</a> options. Takes the same argument as <a
href="GetoptLong.html#M001325">GetoptLong.new</a>.
</p>
<p>
Raises a <a href="RuntimeError.html">RuntimeError</a> if option processing
has already started.
</p>
        </div>
      </div>

      <div id="method-M001328" class="method-detail">
        <a name="M001328"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001328.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001328.html');return false;">
          <span class="method-name">terminate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Explicitly <a href="GetoptLong.html#M001328">terminate</a> option
processing.
</p>
        </div>
      </div>

      <div id="method-M001329" class="method-detail">
        <a name="M001329"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001329.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001329.html');return false;">
          <span class="method-name">terminated?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if option processing has terminated, false otherwise.
</p>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M001330" class="method-detail">
        <a name="M001330"></a>

        <div class="method-heading">
          <a href="GetoptLong.src/M001330.html" target="Code" class="method-signature"
            onclick="popupCode('GetoptLong.src/M001330.html');return false;">
          <span class="method-name">set_error</span><span class="method-args">(type, message)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Set.html">Set</a> an error (protected).
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

<div style="font-size: smaller; text-align:center" id="credits">
 <!-- 2 --><p> <a href="http://www.ruby-doc.org">ruby-doc.org</a> is a service of <a href="http://www.jamesbritt.com">James Britt</a> and <a href="http://www.neurogami.com">Neurogami</a>, a <a href="http://www.neurogami.com"> Ruby application development company in Phoenix, AZ</a>. </p>
  <p><span>Documentation content on <a href="http://ruby-doc.org">ruby-doc.org</a> is provided by </span><a href="http://www.ruby-doc.org/about">remarkable members</a> of the Ruby community.</p>
  <p>For more information on the Ruby programming language, visit <a href="http://www.ruby-lang.org">ruby-lang.org</a>.</p>
  <p>Want to help improve Ruby's API docs? See <a href="/documentation-guidelines.html"> Ruby Documentation Guidelines</a>.</p>
  </div>



</body>
</html>