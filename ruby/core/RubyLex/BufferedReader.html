<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: RubyLex::BufferedReader</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">RubyLex::BufferedReader</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/rdoc/parsers/parse_rb_rb.html">
                lib/rdoc/parsers/parse_rb.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="../Object.html">
                Object
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Read an input stream character by character. We allow for unlimited
ungetting of characters just read.
</p>
<p>
We simplify the implementation greatly by reading the entire input into a
buffer initially, and then simply traversing it using pointers.
</p>
<p>
We also have to allow for the <em>here document diversion</em>. This little
gem comes about when the lexer encounters a here document. At this point we
effectively need to split the input stream into two parts: one to read the
body of the here document, the other to read the rest of the input line
where the here document was initially encountered. For example, we might
have
</p>
<pre>
  do_something(&lt;&lt;-A, &lt;&lt;-B)
    stuff
    for
  A
    stuff
    for
  B
</pre>
<p>
When the lexer encounters the &lt;&lt;A, it reads until the end of the
line, and keeps it around for later. It then reads the body of the here
document. Once complete, it needs to read the rest of the original line,
but then skip the here document body.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M002688">column</a>&nbsp;&nbsp;
      <a href="#M002695">divert_read_from</a>&nbsp;&nbsp;
      <a href="#M002692">get_read</a>&nbsp;&nbsp;
      <a href="#M002689">getc</a>&nbsp;&nbsp;
      <a href="#M002690">getc_already_read</a>&nbsp;&nbsp;
      <a href="#M002687">new</a>&nbsp;&nbsp;
      <a href="#M002693">peek</a>&nbsp;&nbsp;
      <a href="#M002694">peek_equal</a>&nbsp;&nbsp;
      <a href="#M002691">ungetc</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">line_num</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M002687" class="method-detail">
        <a name="M002687"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002687.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002687.html');return false;">
          <span class="method-name">new</span><span class="method-args">(content)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M002688" class="method-detail">
        <a name="M002688"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002688.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002688.html');return false;">
          <span class="method-name">column</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002695" class="method-detail">
        <a name="M002695"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002695.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002695.html');return false;">
          <span class="method-name">divert_read_from</span><span class="method-args">(reserve)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002692" class="method-detail">
        <a name="M002692"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002692.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002692.html');return false;">
          <span class="method-name">get_read</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002689" class="method-detail">
        <a name="M002689"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002689.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002689.html');return false;">
          <span class="method-name">getc</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002690" class="method-detail">
        <a name="M002690"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002690.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002690.html');return false;">
          <span class="method-name">getc_already_read</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002693" class="method-detail">
        <a name="M002693"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002693.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002693.html');return false;">
          <span class="method-name">peek</span><span class="method-args">(at)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002694" class="method-detail">
        <a name="M002694"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002694.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002694.html');return false;">
          <span class="method-name">peek_equal</span><span class="method-args">(str)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M002691" class="method-detail">
        <a name="M002691"></a>

        <div class="method-heading">
          <a href="BufferedReader.src/M002691.html" target="Code" class="method-signature"
            onclick="popupCode('BufferedReader.src/M002691.html');return false;">
          <span class="method-name">ungetc</span><span class="method-args">(ch)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

<div style="font-size: smaller; text-align:center" id="credits">
 <!-- 2 --><p> <a href="http://www.ruby-doc.org">ruby-doc.org</a> is a service of <a href="http://www.jamesbritt.com">James Britt</a> and <a href="http://www.neurogami.com">Neurogami</a>, a <a href="http://www.neurogami.com"> Ruby application development company in Phoenix, AZ</a>. </p>
  <p><span>Documentation content on <a href="http://ruby-doc.org">ruby-doc.org</a> is provided by </span><a href="http://www.ruby-doc.org/about">remarkable members</a> of the Ruby community.</p>
  <p>For more information on the Ruby programming language, visit <a href="http://www.ruby-lang.org">ruby-lang.org</a>.</p>
  <p>Want to help improve Ruby's API docs? See <a href="/documentation-guidelines.html"> Ruby Documentation Guidelines</a>.</p>
  </div>



</body>
</html>