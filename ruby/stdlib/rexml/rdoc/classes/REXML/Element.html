<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: REXML::Element</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">REXML::Element</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/rexml/element_rb.html">
                rexml/element.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="Parent.html">
                Parent
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Represents a tagged XML element. <a href="Elements.html">Elements</a> are
characterized by having children, attributes, and names, and can themselves
be children.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M003033">add_attribute</a>&nbsp;&nbsp;
      <a href="#M003034">add_attributes</a>&nbsp;&nbsp;
      <a href="#M003015">add_element</a>&nbsp;&nbsp;
      <a href="#M003013">add_namespace</a>&nbsp;&nbsp;
      <a href="#M003028">add_text</a>&nbsp;&nbsp;
      <a href="#M003031">attribute</a>&nbsp;&nbsp;
      <a href="#M003036">cdatas</a>&nbsp;&nbsp;
      <a href="#M003003">clone</a>&nbsp;&nbsp;
      <a href="#M003037">comments</a>&nbsp;&nbsp;
      <a href="#M003035">delete_attribute</a>&nbsp;&nbsp;
      <a href="#M003016">delete_element</a>&nbsp;&nbsp;
      <a href="#M003014">delete_namespace</a>&nbsp;&nbsp;
      <a href="#M003006">document</a>&nbsp;&nbsp;
      <a href="#M003020">each_element</a>&nbsp;&nbsp;
      <a href="#M003018">each_element_with_attribute</a>&nbsp;&nbsp;
      <a href="#M003019">each_element_with_text</a>&nbsp;&nbsp;
      <a href="#M003021">get_elements</a>&nbsp;&nbsp;
      <a href="#M003026">get_text</a>&nbsp;&nbsp;
      <a href="#M003032">has_attributes?</a>&nbsp;&nbsp;
      <a href="#M003017">has_elements?</a>&nbsp;&nbsp;
      <a href="#M003024">has_text?</a>&nbsp;&nbsp;
      <a href="#M003008">ignore_whitespace_nodes</a>&nbsp;&nbsp;
      <a href="#M003002">inspect</a>&nbsp;&nbsp;
      <a href="#M003038">instructions</a>&nbsp;&nbsp;
      <a href="#M003012">namespace</a>&nbsp;&nbsp;
      <a href="#M003011">namespaces</a>&nbsp;&nbsp;
      <a href="#M003001">new</a>&nbsp;&nbsp;
      <a href="#M003022">next_element</a>&nbsp;&nbsp;
      <a href="#M003029">node_type</a>&nbsp;&nbsp;
      <a href="#M003010">prefixes</a>&nbsp;&nbsp;
      <a href="#M003023">previous_element</a>&nbsp;&nbsp;
      <a href="#M003009">raw</a>&nbsp;&nbsp;
      <a href="#M003005">root</a>&nbsp;&nbsp;
      <a href="#M003004">root_node</a>&nbsp;&nbsp;
      <a href="#M003025">text</a>&nbsp;&nbsp;
      <a href="#M003027">text=</a>&nbsp;&nbsp;
      <a href="#M003039">texts</a>&nbsp;&nbsp;
      <a href="#M003007">whitespace</a>&nbsp;&nbsp;
      <a href="#M003040">write</a>&nbsp;&nbsp;
      <a href="#M003030">xpath</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="Namespace.html">Namespace</a></span>
      </div>
    </div>

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">UNDEFINED</td>
          <td>=</td>
          <td class="context-item-value">&quot;UNDEFINED&quot;;</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">attributes</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Mechanisms for accessing attributes and child elements of this element.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">context</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
The context holds information about the processing environment, such as <a
href="Element.html#M003007">whitespace</a> handling.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">elements</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Mechanisms for accessing attributes and child elements of this element.

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M003001" class="m-detail">
        <a name="M003001"></a>

        <div class="method-heading">
          <a href="#M003001" class="method-signature">
          <span class="method-name">new</span><span class="method-args">( arg = UNDEFINED, parent=nil, context=nil )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Constructor
</p>
<table>
<tr><td valign="top">arg:</td><td>if not supplied, will be set to the default value. If a String, the name of
this object will be set to the argument. If an <a
href="Element.html">Element</a>, the object will be shallowly cloned; name,
attributes, and <a href="Element.html#M003011">namespaces</a> will be
copied. Children will <tt>not</tt> be copied.

</td></tr>
<tr><td valign="top">parent:</td><td>if supplied, must be a <a href="Parent.html">Parent</a>, and will be used
as the parent of this object.

</td></tr>
<tr><td valign="top">context:</td><td>If supplied, must be a hash containing context items. Context items
include:

</td></tr>
</table>
<ul>
<li><tt>:respect_whitespace</tt> the value of this is :<tt>all</tt> or an array
of strings being the names of the elements to respect <a
href="Element.html#M003007">whitespace</a> for. Defaults to :<tt>all</tt>.

</li>
<li><tt>:compress_whitespace</tt> the value can be :<tt>all</tt> or an array of
strings being the names of the elements to ignore <a
href="Element.html#M003007">whitespace</a> on. Overrides
:<tt>respect_whitespace</tt>.

</li>
<li><tt>:<a href="Element.html#M003008">ignore_whitespace_nodes</a></tt> the
value can be :<tt>all</tt> or an array of strings being the names of the
elements in which to ignore <a
href="Element.html#M003007">whitespace</a>-only nodes. If this is set, <a
href="Text.html">Text</a> nodes which contain only <a
href="Element.html#M003007">whitespace</a> will not be added to the <a
href="Element.html#M003006">document</a> tree.

</li>
<li><tt>:<a href="Element.html#M003009">raw</a></tt> can be :<tt>all</tt>, or
an array of strings being the names of the elements to process in <a
href="Element.html#M003009">raw</a> mode. In <a
href="Element.html#M003009">raw</a> mode, special characters in <a
href="Element.html#M003025">text</a> is not converted to or from entities.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003001-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003001-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 58</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">arg</span> = <span class="ruby-constant">UNDEFINED</span>, <span class="ruby-identifier">parent</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">context</span>=<span class="ruby-keyword kw">nil</span> )
      <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">parent</span>)

      <span class="ruby-ivar">@elements</span> = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
      <span class="ruby-ivar">@attributes</span> = <span class="ruby-constant">Attributes</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
      <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">arg</span>
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Element</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">expanded_name</span>
        <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each_attribute</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span>
          <span class="ruby-ivar">@attributes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Attribute</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">attribute</span> )
        }
        <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">context</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M003033" class="m-detail">
        <a name="M003033"></a>

        <div class="method-heading">
          <a href="#M003033" class="method-signature">
          <span class="method-name">add_attribute</span><span class="method-args">( key, value=nil )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Adds an <a href="Element.html#M003031">attribute</a> to this element,
overwriting any existing <a href="Element.html#M003031">attribute</a> by
the same name.
</p>
<table>
<tr><td valign="top">key:</td><td>can be either an <a href="Attribute.html">Attribute</a> or a String. If an
<a href="Attribute.html">Attribute</a>, the <a
href="Element.html#M003031">attribute</a> is added to the list of <a
href="Element.html">Element</a> attributes. If String, the argument is used
as the name of the <a href="Element.html#M003001">new</a> <a
href="Element.html#M003031">attribute</a>, and the value parameter must be
supplied.

</td></tr>
<tr><td valign="top">value:</td><td>Required if <tt>key</tt> is a String, and ignored if the first argument is
an <a href="Attribute.html">Attribute</a>. This is a String, and is used as
the value of the <a href="Element.html#M003001">new</a> <a
href="Attribute.html">Attribute</a>. This should be the unnormalized value
of the <a href="Element.html#M003031">attribute</a> (without entities).

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Attribute.html">Attribute</a> added

</td></tr>
</table>
<pre>
 e = Element.new 'e'
 e.add_attribute( 'a', 'b' )               #-&gt; &lt;e a='b'/&gt;
 e.add_attribute( 'x:a', 'c' )             #-&gt; &lt;e a='b' x:a='c'/&gt;
 e.add_attribute Attribute.new('b', 'd')   #-&gt; &lt;e a='b' x:a='c' b='d'/&gt;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003033-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 583</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_attribute</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>=<span class="ruby-keyword kw">nil</span> )
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Attribute</span>
        <span class="ruby-ivar">@attributes</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">key</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003034" class="m-detail">
        <a name="M003034"></a>

        <div class="method-heading">
          <a href="#M003034" class="method-signature">
          <span class="method-name">add_attributes</span><span class="method-args">(hash)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Add multiple attributes to this element.
</p>
<table>
<tr><td valign="top">hash:</td><td>is either a hash, or array of arrays

</td></tr>
</table>
<pre>
 el.add_attributes( {&quot;name1&quot;=&gt;&quot;value1&quot;, &quot;name2&quot;=&gt;&quot;value2&quot;} )
 el.add_attributes( [ [&quot;name1&quot;,&quot;value1&quot;], [&quot;name2&quot;=&gt;&quot;value2&quot;] ] )
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003034-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 595</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_attributes</span> <span class="ruby-identifier">hash</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
        <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each_pair</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span> }
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Array</span>
        <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@attributes</span>[ <span class="ruby-identifier">value</span>[<span class="ruby-value">0</span>] ] = <span class="ruby-identifier">value</span>[<span class="ruby-value">1</span>] }
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003015" class="m-detail">
        <a name="M003015"></a>

        <div class="method-heading">
          <a href="#M003015" class="method-signature">
          <span class="method-name">add_element</span><span class="method-args">(element, attrs=nil)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Adds a child to this element, optionally setting attributes in the element.
</p>
<table>
<tr><td valign="top">element:</td><td>optional. If <a href="Element.html">Element</a>, the element is added.
Otherwise, a <a href="Element.html#M003001">new</a> <a
href="Element.html">Element</a> is constructed with the argument (see
Element.initialize).

</td></tr>
<tr><td valign="top">attrs:</td><td>If supplied, must be a Hash containing String name,value pairs, which will
be used to set the attributes of the <a href="Element.html#M003001">new</a>
<a href="Element.html">Element</a>.

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html">Element</a> that was added

</td></tr>
</table>
<pre>
 el = doc.add_element 'my-tag'
 el = doc.add_element 'my-tag', {'attr1'=&gt;'val1', 'attr2'=&gt;'val2'}
 el = Element.new 'my-tag'
 doc.add_element el
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003015-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003015-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 295</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_element</span> <span class="ruby-identifier">element</span>, <span class="ruby-identifier">attrs</span>=<span class="ruby-keyword kw">nil</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;First argument must be either an element name, or an Element object&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">el</span> = <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">element</span>)
      <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">el</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>]=<span class="ruby-constant">Attribute</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">key</span>,<span class="ruby-identifier">value</span>,<span class="ruby-keyword kw">self</span>)
      <span class="ruby-keyword kw">end</span>       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
      <span class="ruby-identifier">el</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003013" class="m-detail">
        <a name="M003013"></a>

        <div class="method-heading">
          <a href="#M003013" class="method-signature">
          <span class="method-name">add_namespace</span><span class="method-args">( prefix, uri=nil )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Adds a <a href="Element.html#M003012">namespace</a> to this element.
</p>
<table>
<tr><td valign="top">prefix:</td><td>the prefix string, or the <a href="Element.html#M003012">namespace</a> URI
if <tt>uri</tt> is not supplied

</td></tr>
<tr><td valign="top">uri:</td><td>the <a href="Element.html#M003012">namespace</a> URI. May be nil, in which
<tt>prefix</tt> is used as the URI

</td></tr>
</table>
<p>
Evaluates to: this <a href="Element.html">Element</a>
</p>
<pre>
 a = Element.new(&quot;a&quot;)
 a.add_namespace(&quot;xmlns:foo&quot;, &quot;bar&quot; )
 a.add_namespace(&quot;foo&quot;, &quot;bar&quot;)  # shorthand for previous line
 a.add_namespace(&quot;twiddle&quot;)
 puts a   #-&gt; &lt;a xmlns:foo='bar' xmlns='twiddle'/&gt;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003013-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003013-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 250</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_namespace</span>( <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">uri</span>=<span class="ruby-keyword kw">nil</span> )
      <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">uri</span>
        <span class="ruby-ivar">@attributes</span>[<span class="ruby-value str">&quot;xmlns&quot;</span>] = <span class="ruby-identifier">prefix</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">prefix</span> = <span class="ruby-node">&quot;xmlns:#{prefix}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^xmlns:/</span>
        <span class="ruby-ivar">@attributes</span>[ <span class="ruby-identifier">prefix</span> ] = <span class="ruby-identifier">uri</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">self</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003028" class="m-detail">
        <a name="M003028"></a>

        <div class="method-heading">
          <a href="#M003028" class="method-signature">
          <span class="method-name">add_text</span><span class="method-args">( text )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
A helper method to add a <a href="Text.html">Text</a> child. Actual <a
href="Text.html">Text</a> instances can be added with regular <a
href="Parent.html">Parent</a> methods, such as add() and &lt;&lt;()
</p>
<table>
<tr><td valign="top"><a href="Element.html#M003025">text</a>:</td><td>if a String, a <a href="Element.html#M003001">new</a> <a
href="Text.html">Text</a> instance is created and added to the parent. If
<a href="Text.html">Text</a>, the object is added directly.

</td></tr>
<tr><td valign="top">Returns:</td><td>this <a href="Element.html">Element</a>

</td></tr>
</table>
<pre>
 e = Element.new('a')          #-&gt; &lt;e/&gt;
 e.add_text 'foo'              #-&gt; &lt;e&gt;foo&lt;/e&gt;
 e.add_text Text.new(' bar')    #-&gt; &lt;e&gt;foo bar&lt;/e&gt;
</pre>
<p>
Note that at the end of this example, the branch has <b>3</b> nodes; the
&#8216;e&#8217; element and <b>2</b> <a href="Text.html">Text</a> node
children.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003028-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003028-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 522</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_text</span>( <span class="ruby-identifier">text</span> )
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span> 
        <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[<span class="ruby-value">-1</span>].<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span>
          <span class="ruby-ivar">@children</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text</span>
          <span class="ruby-keyword kw">return</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">text</span> = <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">text</span>, <span class="ruby-identifier">whitespace</span>(), <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">raw</span>() )
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003031" class="m-detail">
        <a name="M003031"></a>

        <div class="method-heading">
          <a href="#M003031" class="method-signature">
          <span class="method-name">attribute</span><span class="method-args">( name, namespace=nil )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
<a href="Attributes.html">Attributes</a> #
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003031-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 553</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">namespace</span>=<span class="ruby-keyword kw">nil</span> )
      <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">namespace</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>
      <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
      <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">get_attribute</span>( <span class="ruby-node">&quot;#{prefix ? prefix + ':' : ''}#{name}&quot;</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003036" class="m-detail">
        <a name="M003036"></a>

        <div class="method-heading">
          <a href="#M003036" class="method-signature">
          <span class="method-name">cdatas</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Get an array of all <a href="CData.html">CData</a> children. IMMUTABLE
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003036-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 627</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cdatas</span>
      <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">CData</span> }.<span class="ruby-identifier">freeze</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003003" class="m-detail">
        <a name="M003003"></a>

        <div class="method-heading">
          <a href="#M003003" class="method-signature">
          <span class="method-name">clone</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Creates a shallow copy of self.
</p>
<pre>
  d = Document.new &quot;&lt;a&gt;&lt;b/&gt;&lt;b/&gt;&lt;c&gt;&lt;d/&gt;&lt;/c&gt;&lt;/a&gt;&quot;
  new_a = d.root.clone
  puts new_a  # =&gt; &quot;&lt;a/&gt;&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003003-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003003-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 96</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003037" class="m-detail">
        <a name="M003037"></a>

        <div class="method-heading">
          <a href="#M003037" class="method-signature">
          <span class="method-name">comments</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Get an array of all <a href="Comment.html">Comment</a> children. IMMUTABLE
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003037-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 633</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comments</span>
      <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Comment</span> }.<span class="ruby-identifier">freeze</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003035" class="m-detail">
        <a name="M003035"></a>

        <div class="method-heading">
          <a href="#M003035" class="method-signature">
          <span class="method-name">delete_attribute</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Removes an <a href="Element.html#M003031">attribute</a>
</p>
<table>
<tr><td valign="top">key:</td><td>either an <a href="Attribute.html">Attribute</a> or a String. In either
case, the <a href="Element.html#M003031">attribute</a> is found by matching
the <a href="Element.html#M003031">attribute</a> name to the argument, and
then removed. If no <a href="Element.html#M003031">attribute</a> is found,
no action is taken.

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html#M003031">attribute</a> removed, or nil if this <a
href="Element.html">Element</a> did not contain a matching <a
href="Element.html#M003031">attribute</a>

</td></tr>
</table>
<pre>
 e = Element.new('E')
 e.add_attribute( 'name', 'Sean' )             #-&gt; &lt;E name='Sean'/&gt;
 r = e.add_attribute( 'sur:name', 'Russell' )  #-&gt; &lt;E name='Sean' sur:name='Russell'/&gt;
 e.delete_attribute( 'name' )                  #-&gt; &lt;E sur:name='Russell'/&gt;
 e.delete_attribute( r )                       #-&gt; &lt;E/&gt;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003035-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 616</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_attribute</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-identifier">attr</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003016" class="m-detail">
        <a name="M003016"></a>

        <div class="method-heading">
          <a href="#M003016" class="method-signature">
          <span class="method-name">delete_element</span><span class="method-args">(element)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Deletes a child element.
</p>
<table>
<tr><td valign="top">element:</td><td>Must be an <tt><a href="Element.html">Element</a></tt>, <tt>String</tt>, or
<tt>Integer</tt>. If <a href="Element.html">Element</a>, the element is
removed. If String, the element is found (via <a
href="XPath.html">XPath</a>) and removed. &lt;em&gt;This means that any
parent can remove any descendant.&lt;em&gt; If Integer, the <a
href="Element.html">Element</a> indexed by that number will be removed.

</td></tr>
<tr><td valign="top">Returns:</td><td>the element that was removed.

</td></tr>
</table>
<pre>
 doc.delete_element &quot;/a/b/c[@id='4']&quot;
 doc.delete_element doc.elements[&quot;//k&quot;]
 doc.delete_element 1
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003016-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003016-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 315</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_element</span> <span class="ruby-identifier">element</span>
      <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">element</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003014" class="m-detail">
        <a name="M003014"></a>

        <div class="method-heading">
          <a href="#M003014" class="method-signature">
          <span class="method-name">delete_namespace</span><span class="method-args">(namespace=&quot;xmlns&quot;)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Removes a <a href="Element.html#M003012">namespace</a> from this node. This
only works if the <a href="Element.html#M003012">namespace</a> is actually
declared in this node. If no argument is passed, deletes the default <a
href="Element.html#M003012">namespace</a>.
</p>
<p>
Evaluates to: this element
</p>
<pre>
 doc = Document.new &quot;&lt;a xmlns:foo='bar' xmlns='twiddle'/&gt;&quot;
 doc.root.delete_namespace
 puts doc     # -&gt; &lt;a xmlns:foo='bar'/&gt;
 doc.root.delete_namespace 'foo'
 puts doc     # -&gt; &lt;a/&gt;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003014-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003014-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 270</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_namespace</span> <span class="ruby-identifier">namespace</span>=<span class="ruby-value str">&quot;xmlns&quot;</span>
      <span class="ruby-identifier">namespace</span> = <span class="ruby-node">&quot;xmlns:#{namespace}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
      <span class="ruby-identifier">attribute</span> = <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">namespace</span>)
      <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">self</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003006" class="m-detail">
        <a name="M003006"></a>

        <div class="method-heading">
          <a href="#M003006" class="method-signature">
          <span class="method-name">document</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to the <a href="Element.html#M003006">document</a> to which this
element belongs, or nil if this element doesn&#8216;t belong to a <a
href="Element.html#M003006">document</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003006-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003006-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 131</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">document</span>
      <span class="ruby-identifier">rt</span> = <span class="ruby-identifier">root</span>
      <span class="ruby-identifier">rt</span>.<span class="ruby-identifier">parent</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rt</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003020" class="m-detail">
        <a name="M003020"></a>

        <div class="method-heading">
          <a href="#M003020" class="method-signature">
          <span class="method-name">each_element</span><span class="method-args">( xpath=nil ) {|Element| ...}</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Synonym for Element.elements.each
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003020-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 392</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_element</span>( <span class="ruby-identifier">xpath</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> ) <span class="ruby-comment cmt"># :yields: Element</span>
      <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">each</span>( <span class="ruby-identifier">xpath</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003018" class="m-detail">
        <a name="M003018"></a>

        <div class="method-heading">
          <a href="#M003018" class="method-signature">
          <span class="method-name">each_element_with_attribute</span><span class="method-args">( key, value=nil, max=0, name=nil ) {|Element| ...}</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Iterates through the child elements, yielding for each <a
href="Element.html">Element</a> that has a particular <a
href="Element.html#M003031">attribute</a> set.
</p>
<table>
<tr><td valign="top">key:</td><td>the name of the <a href="Element.html#M003031">attribute</a> to search for

</td></tr>
<tr><td valign="top">value:</td><td>the value of the <a href="Element.html#M003031">attribute</a>

</td></tr>
<tr><td valign="top">max:</td><td>(optional) causes this method to return after yielding for this number of
matching children

</td></tr>
<tr><td valign="top">name:</td><td>(optional) if supplied, this is an <a href="XPath.html">XPath</a> that
filters the children to check.

</td></tr>
</table>
<pre>
 doc = Document.new &quot;&lt;a&gt;&lt;b @id='1'/&gt;&lt;c @id='2'/&gt;&lt;d @id='1'/&gt;&lt;e/&gt;&lt;/a&gt;&quot;
 # Yields b, c, d
 doc.root.each_element_with_attribute( 'id' ) {|e| p e}
 # Yields b, d
 doc.root.each_element_with_attribute( 'id', '1' ) {|e| p e}
 # Yields b
 doc.root.each_element_with_attribute( 'id', '1', 1 ) {|e| p e}
 # Yields d
 doc.root.each_element_with_attribute( 'id', '1', 0, 'd' ) {|e| p e}
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003018-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003018-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 350</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_element_with_attribute</span>( <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">max</span>=<span class="ruby-value">0</span>, <span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> ) <span class="ruby-comment cmt"># :yields: Element</span>
      <span class="ruby-identifier">each_with_something</span>( <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> 
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">child</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">child</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>]<span class="ruby-operator">==</span><span class="ruby-identifier">value</span>
        <span class="ruby-keyword kw">end</span>
      }, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003019" class="m-detail">
        <a name="M003019"></a>

        <div class="method-heading">
          <a href="#M003019" class="method-signature">
          <span class="method-name">each_element_with_text</span><span class="method-args">( text=nil, max=0, name=nil ) {|Element| ...}</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Iterates through the children, yielding for each <a
href="Element.html">Element</a> that has a particular <a
href="Element.html#M003025">text</a> set.
</p>
<table>
<tr><td valign="top"><a href="Element.html#M003025">text</a>:</td><td>the <a href="Element.html#M003025">text</a> to search for. If nil, or not
supplied, will itterate over all <tt><a
href="Element.html">Element</a></tt> children that contain at least one
<tt><a href="Text.html">Text</a></tt> node.

</td></tr>
<tr><td valign="top">max:</td><td>(optional) causes this method to return after yielding for this number of
matching children

</td></tr>
<tr><td valign="top">name:</td><td>(optional) if supplied, this is an <a href="XPath.html">XPath</a> that
filters the children to check.

</td></tr>
</table>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b&gt;b&lt;/b&gt;&lt;c&gt;b&lt;/c&gt;&lt;d&gt;d&lt;/d&gt;&lt;e/&gt;&lt;/a&gt;'
 # Yields b, c, d
 doc.each_element_with_text {|e|p e}
 # Yields b, c
 doc.each_element_with_text('b'){|e|p e}
 # Yields b
 doc.each_element_with_text('b', 1){|e|p e}
 # Yields d
 doc.each_element_with_text(nil, 0, 'd'){|e|p e}
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003019-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 381</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_element_with_text</span>( <span class="ruby-identifier">text</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">max</span>=<span class="ruby-value">0</span>, <span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> ) <span class="ruby-comment cmt"># :yields: Element</span>
      <span class="ruby-identifier">each_with_something</span>( <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> 
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">child</span>.<span class="ruby-identifier">has_text?</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">child</span>.<span class="ruby-identifier">text</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">text</span>
        <span class="ruby-keyword kw">end</span>
      }, <span class="ruby-identifier">max</span>, <span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003021" class="m-detail">
        <a name="M003021"></a>

        <div class="method-heading">
          <a href="#M003021" class="method-signature">
          <span class="method-name">get_elements</span><span class="method-args">( xpath )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Synonym for Element.to_a This is a little slower than calling elements.each
directly.
</p>
<table>
<tr><td valign="top"><a href="Element.html#M003030">xpath</a>:</td><td>any <a href="XPath.html">XPath</a> by which to search for elements in the
tree

</td></tr>
<tr><td valign="top">Returns:</td><td>an array of <a href="Elements.html">Elements</a> that match the supplied
path

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003021-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003021-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 400</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_elements</span>( <span class="ruby-identifier">xpath</span> )
      <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">to_a</span>( <span class="ruby-identifier">xpath</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003026" class="m-detail">
        <a name="M003026"></a>

        <div class="method-heading">
          <a href="#M003026" class="method-signature">
          <span class="method-name">get_text</span><span class="method-args">(path = nil)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Returns the first child <a href="Text.html">Text</a> node, if any, or
<tt>nil</tt> otherwise. This method returns the actual <tt><a
href="Text.html">Text</a></tt> node, rather than the String content.
</p>
<pre>
 doc = Document.new &quot;&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;&quot;
 # The element 'p' has two text elements, &quot;some text &quot; and &quot; more text&quot;.
 doc.root.get_text.value            #-&gt; &quot;some text &quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003026-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 461</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_text</span> <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">element</span> = <span class="ruby-ivar">@elements</span>[ <span class="ruby-identifier">path</span> ]
        <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">get_text</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span> }
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003032" class="m-detail">
        <a name="M003032"></a>

        <div class="method-heading">
          <a href="#M003032" class="method-signature">
          <span class="method-name">has_attributes?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to <tt>true</tt> if this element has any attributes set, false
otherwise.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003032-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 562</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attributes?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003017" class="m-detail">
        <a name="M003017"></a>

        <div class="method-heading">
          <a href="#M003017" class="method-signature">
          <span class="method-name">has_elements?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to <tt>true</tt> if this element has at least one child <a
href="Element.html">Element</a>
</p>
<pre>
 doc = Document.new &quot;&lt;a&gt;&lt;b/&gt;&lt;c&gt;Text&lt;/c&gt;&lt;/a&gt;&quot;
 doc.root.has_elements               # -&gt; true
 doc.elements[&quot;/a/b&quot;].has_elements   # -&gt; false
 doc.elements[&quot;/a/c&quot;].has_elements   # -&gt; false
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003017-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003017-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 324</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_elements?</span>
      <span class="ruby-operator">!</span><span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003024" class="m-detail">
        <a name="M003024"></a>

        <div class="method-heading">
          <a href="#M003024" class="method-signature">
          <span class="method-name">has_text?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to <tt>true</tt> if this element has at least one <a
href="Text.html">Text</a> child
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003024-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 432</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_text?</span>
      <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">text</span>().<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003008" class="m-detail">
        <a name="M003008"></a>

        <div class="method-heading">
          <a href="#M003008" class="method-signature">
          <span class="method-name">ignore_whitespace_nodes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003008-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003008-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 161</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ignore_whitespace_nodes</span>
      <span class="ruby-ivar">@ignore_whitespace_nodes</span> = <span class="ruby-keyword kw">false</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:ignore_whitespace_nodes</span>]
          <span class="ruby-ivar">@ignore_whitespace_nodes</span> = 
            (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:ignore_whitespace_nodes</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
             <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:ignore_whitespace_nodes</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003002" class="m-detail">
        <a name="M003002"></a>

        <div class="method-heading">
          <a href="#M003002" class="method-signature">
          <span class="method-name">inspect</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003002-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003002-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 76</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
      <span class="ruby-identifier">rv</span> = <span class="ruby-value str">&quot;&lt;#@expanded_name&quot;</span>

      <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">each_attribute</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; &quot;</span>
        <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">write</span>( <span class="ruby-identifier">rv</span>, <span class="ruby-value">0</span> )
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">children</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
        <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&gt; ... &lt;/&gt;&quot;</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">rv</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;/&gt;&quot;</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003038" class="m-detail">
        <a name="M003038"></a>

        <div class="method-heading">
          <a href="#M003038" class="method-signature">
          <span class="method-name">instructions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Get an array of all <a href="Instruction.html">Instruction</a> children.
IMMUTABLE
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003038-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 639</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instructions</span>
      <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Instruction</span> }.<span class="ruby-identifier">freeze</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003012" class="m-detail">
        <a name="M003012"></a>

        <div class="method-heading">
          <a href="#M003012" class="method-signature">
          <span class="method-name">namespace</span><span class="method-args">(prefix=nil)</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evalutas to the URI for a prefix, or the empty string if no such <a
href="Element.html#M003012">namespace</a> is declared for this element.
Evaluates recursively for ancestors. Returns the default <a
href="Element.html#M003012">namespace</a>, if there is one.
</p>
<table>
<tr><td valign="top">prefix:</td><td>the prefix to search for. If not supplied, returns the default <a
href="Element.html#M003012">namespace</a> if one exists

</td></tr>
<tr><td valign="top">Returns:</td><td>the <a href="Element.html#M003012">namespace</a> URI as a String, or nil if
no such <a href="Element.html#M003012">namespace</a> exists. If the <a
href="Element.html#M003012">namespace</a> is undefined, returns an empty
string

</td></tr>
</table>
<pre>
 doc = Document.new(&quot;&lt;a xmlns='1' xmlns:y='2'&gt;&lt;b/&gt;&lt;c xmlns:z='3'/&gt;&lt;/a&gt;&quot;)
 b = doc.elements['//b']
 b.namespace           # -&gt; '1'
 b.namespace(&quot;y&quot;)      # -&gt; '2'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003012-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003012-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 222</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespace</span>(<span class="ruby-identifier">prefix</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">prefix</span>()
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
        <span class="ruby-identifier">prefix</span> = <span class="ruby-value str">&quot;xmlns&quot;</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">prefix</span> = <span class="ruby-node">&quot;xmlns:#{prefix}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">prefix</span>[<span class="ruby-value">0</span>,<span class="ruby-value">5</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">attributes</span>[ <span class="ruby-identifier">prefix</span> ]
      <span class="ruby-identifier">ns</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">namespace</span>(<span class="ruby-identifier">prefix</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">parent</span>
      <span class="ruby-identifier">ns</span> = <span class="ruby-value str">''</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">prefix</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'xmlns'</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">ns</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003011" class="m-detail">
        <a name="M003011"></a>

        <div class="method-heading">
          <a href="#M003011" class="method-signature">
          <span class="method-name">namespaces</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003011-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003011-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 202</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespaces</span>
      <span class="ruby-identifier">namespaces</span> = {}
      <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">namespaces</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>
      <span class="ruby-identifier">namespaces</span> = <span class="ruby-identifier">namespaces</span>.<span class="ruby-identifier">merge</span>( <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">namespaces</span> )
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">namespaces</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003022" class="m-detail">
        <a name="M003022"></a>

        <div class="method-heading">
          <a href="#M003022" class="method-signature">
          <span class="method-name">next_element</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Returns the next sibling that is an element, or nil if there is no <a
href="Element.html">Element</a> sibling after this one
</p>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;text&lt;c/&gt;&lt;/a&gt;'
 doc.root.elements['b'].next_element          #-&gt; &lt;c/&gt;
 doc.root.elements['c'].next_element          #-&gt; nil
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003022-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003022-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 409</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_element</span>
      <span class="ruby-identifier">element</span> = <span class="ruby-identifier">next_sibling</span>
      <span class="ruby-identifier">element</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">next_sibling</span> <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Element</span> 
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">element</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003029" class="m-detail">
        <a name="M003029"></a>

        <div class="method-heading">
          <a href="#M003029" class="method-signature">
          <span class="method-name">node_type</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003029-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 534</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_type</span>
      <span class="ruby-identifier">:element</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003010" class="m-detail">
        <a name="M003010"></a>

        <div class="method-heading">
          <a href="#M003010" class="method-signature">
          <span class="method-name">prefixes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to an <tt><a href="../Array.html">Array</a></tt> containing the
<a href="Element.html#M003010">prefixes</a> (names) of all defined <a
href="Element.html#M003011">namespaces</a> at this context node.
</p>
<pre>
 doc = Document.new(&quot;&lt;a xmlns:x='1' xmlns:y='2'&gt;&lt;b/&gt;&lt;c xmlns:z='3'/&gt;&lt;/a&gt;&quot;)
 doc.elements['//b'].prefixes # -&gt; ['x', 'y']
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003010-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003010-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 195</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prefixes</span>
      <span class="ruby-identifier">prefixes</span> = []
      <span class="ruby-identifier">prefixes</span> = <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">prefixes</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>
      <span class="ruby-identifier">prefixes</span> <span class="ruby-operator">|=</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">prefixes</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">prefixes</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003023" class="m-detail">
        <a name="M003023"></a>

        <div class="method-heading">
          <a href="#M003023" class="method-signature">
          <span class="method-name">previous_element</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Returns the previous sibling that is an element, or nil if there is no <a
href="Element.html">Element</a> sibling prior to this one
</p>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;text&lt;c/&gt;&lt;/a&gt;'
 doc.root.elements['c'].previous_element          #-&gt; &lt;b/&gt;
 doc.root.elements['b'].previous_element          #-&gt; nil
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003023-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 420</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">previous_element</span>
      <span class="ruby-identifier">element</span> = <span class="ruby-identifier">previous_sibling</span>
      <span class="ruby-identifier">element</span> = <span class="ruby-identifier">element</span>.<span class="ruby-identifier">previous_sibling</span> <span class="ruby-keyword kw">until</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Element</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">element</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003009" class="m-detail">
        <a name="M003009"></a>

        <div class="method-heading">
          <a href="#M003009" class="method-signature">
          <span class="method-name">raw</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to <tt>true</tt> if <a href="Element.html#M003009">raw</a> mode
is set for this element. This is the case if the context has :<tt><a
href="Element.html#M003009">raw</a></tt> set to :<tt>all</tt> or an array
containing the name of this element.
</p>
<p>
The evaluation is tested against <tt>expanded_name</tt>, and so is <a
href="Element.html#M003012">namespace</a> sensitive.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003009-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003009-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 178</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw</span>
      <span class="ruby-ivar">@raw</span> = (<span class="ruby-ivar">@context</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:raw</span>] <span class="ruby-keyword kw">and</span>
              (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:raw</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
               <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:raw</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>))
               <span class="ruby-ivar">@raw</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003005" class="m-detail">
        <a name="M003005"></a>

        <div class="method-heading">
          <a href="#M003005" class="method-signature">
          <span class="method-name">root</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003005-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003005-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 123</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">root</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003004" class="m-detail">
        <a name="M003004"></a>

        <div class="method-heading">
          <a href="#M003004" class="method-signature">
          <span class="method-name">root_node</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to the <a href="Element.html#M003005">root</a> node of the <a
href="Element.html#M003006">document</a> that this element belongs to. If
this element doesn&#8216;t belong to a <a
href="Element.html#M003006">document</a>, but does belong to another <a
href="Element.html">Element</a>, the parent&#8216;s <a
href="Element.html#M003005">root</a> will be returned, until the earliest
ancestor is found.
</p>
<p>
Note that this is not the same as the <a
href="Element.html#M003006">document</a> element. In the following example,
&lt;a&gt; is the <a href="Element.html#M003006">document</a> element, and
the <a href="Element.html#M003005">root</a> node is the parent node of the
<a href="Element.html#M003006">document</a> element. You may ask yourself
why the <a href="Element.html#M003005">root</a> node is useful: consider
the doctype and XML declaration, and any processing <a
href="Element.html#M003038">instructions</a> before the <a
href="Element.html#M003006">document</a> element&#8230; they are children
of the <a href="Element.html#M003005">root</a> node, or siblings of the <a
href="Element.html#M003006">document</a> element. The only time this
isn&#8216;t true is when an <a href="Element.html">Element</a> is created
that is not part of any <a href="Document.html">Document</a>. In this case,
the ancestor that has no parent acts as the <a
href="Element.html#M003005">root</a> node.
</p>
<pre>
 d = Document.new '&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;/b&gt;&lt;/a&gt;'
 a = d[1] ; c = a[1][1]
 d.root_node == d   # TRUE
 a.root_node        # namely, d
 c.root_node        # again, d
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003004-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003004-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 119</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root_node</span>
      <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">self</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">parent</span>.<span class="ruby-identifier">root_node</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003025" class="m-detail">
        <a name="M003025"></a>

        <div class="method-heading">
          <a href="#M003025" class="method-signature">
          <span class="method-name">text</span><span class="method-args">( path = nil )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
A convenience method which returns the String value of the <em>first</em>
child <a href="Element.html#M003025">text</a> element, if one exists, and
<tt>nil</tt> otherwise.
</p>
<p>
<em>Note that an element may have multiple <a href="Text.html">Text</a>
elements, perhaps separated by other children</em>. Be aware that this
method only returns the first <a href="Text.html">Text</a> node.
</p>
<p>
This method returns the <tt>value</tt> of the first <a
href="Element.html#M003025">text</a> child node, which ignores the <tt><a
href="Element.html#M003009">raw</a></tt> setting, so always returns
normalized <a href="Element.html#M003025">text</a>. See the Text::value
documentation.
</p>
<pre>
 doc = Document.new &quot;&lt;p&gt;some text &lt;b&gt;this is bold!&lt;/b&gt; more text&lt;/p&gt;&quot;
 # The element 'p' has two text elements, &quot;some text &quot; and &quot; more text&quot;.
 doc.root.text              #-&gt; &quot;some text &quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003025-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 450</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text</span>( <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span> )
      <span class="ruby-identifier">rv</span> = <span class="ruby-identifier">get_text</span>(<span class="ruby-identifier">path</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">value</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003027" class="m-detail">
        <a name="M003027"></a>

        <div class="method-heading">
          <a href="#M003027" class="method-signature">
          <span class="method-name">text=</span><span class="method-args">( text )</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Sets the first <a href="Text.html">Text</a> child of this object. See <a
href="Element.html#M003025">text</a>() for a discussion about <a
href="Text.html">Text</a> children.
</p>
<p>
If a <a href="Text.html">Text</a> child already exists, the child is
replaced by this content. This means that <a href="Text.html">Text</a>
content can be deleted by calling this method with a nil argument. In this
case, the next <a href="Text.html">Text</a> child becomes the first <a
href="Text.html">Text</a> child. In no case is the order of any siblings
disturbed.
</p>
<table>
<tr><td valign="top"><a href="Element.html#M003025">text</a>:</td><td>If a String, a <a href="Element.html#M003001">new</a> <a
href="Text.html">Text</a> child is created and added to this <a
href="Element.html">Element</a> as the first <a href="Text.html">Text</a>
child. If <a href="Text.html">Text</a>, the <a
href="Element.html#M003025">text</a> is set as the first <a
href="Child.html">Child</a> element. If nil, then any existing first <a
href="Text.html">Text</a> child is removed.

</td></tr>
<tr><td valign="top">Returns:</td><td>this <a href="Element.html">Element</a>.

</td></tr>
</table>
<pre>
 doc = Document.new '&lt;a&gt;&lt;b/&gt;&lt;/a&gt;'
 doc.root.text = 'Sean'      #-&gt; '&lt;a&gt;&lt;b/&gt;Sean&lt;/a&gt;'
 doc.root.text = 'Elliott'   #-&gt; '&lt;a&gt;&lt;b/&gt;Elliott&lt;/a&gt;'
 doc.root.add_element 'c'    #-&gt; '&lt;a&gt;&lt;b/&gt;Elliott&lt;c/&gt;&lt;/a&gt;'
 doc.root.text = 'Russell'   #-&gt; '&lt;a&gt;&lt;b/&gt;Russell&lt;c/&gt;&lt;/a&gt;'
 doc.root.text = nil         #-&gt; '&lt;a&gt;&lt;b/&gt;&lt;c/&gt;&lt;/a&gt;'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003027-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 492</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text=</span>( <span class="ruby-identifier">text</span> )
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
        <span class="ruby-identifier">text</span> = <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">text</span>, <span class="ruby-identifier">whitespace</span>(), <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">raw</span>() )
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">text</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">text</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span>
        <span class="ruby-identifier">text</span> = <span class="ruby-constant">Text</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">whitespace</span>(), <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">raw</span>() )
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">old_text</span> = <span class="ruby-identifier">get_text</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">text</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">remove</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">old_text</span>.<span class="ruby-identifier">replace_with</span>( <span class="ruby-identifier">text</span> )
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003039" class="m-detail">
        <a name="M003039"></a>

        <div class="method-heading">
          <a href="#M003039" class="method-signature">
          <span class="method-name">texts</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Get an array of all <a href="Text.html">Text</a> children. IMMUTABLE
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003039-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 645</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">texts</span>
      <span class="ruby-identifier">find_all</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Text</span> }.<span class="ruby-identifier">freeze</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003007" class="m-detail">
        <a name="M003007"></a>

        <div class="method-heading">
          <a href="#M003007" class="method-signature">
          <span class="method-name">whitespace</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p>
Evaluates to <tt>true</tt> if <a href="Element.html#M003007">whitespace</a>
is respected for this element. This is the case if:
</p>
<ol>
<li>Neither :<tt>respect_whitespace</tt> nor :<tt>compress_whitespace</tt> has
any value

</li>
<li>The context has :<tt>respect_whitespace</tt> set to :<tt>all</tt> or an
array containing the name of this element, and
:<tt>compress_whitespace</tt> isn&#8216;t set to :<tt>all</tt> or an array
containing the name of this element.

</li>
</ol>
<p>
The evaluation is tested against <tt>expanded_name</tt>, and so is <a
href="Element.html#M003012">namespace</a> sensitive.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003007-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003007-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 145</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">whitespace</span>
      <span class="ruby-ivar">@whitespace</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:respect_whitespace</span>]
          <span class="ruby-ivar">@whitespace</span> = (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:respect_whitespace</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
                         <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:respect_whitespace</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>)
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-ivar">@whitespace</span> = <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:compress_whitespace</span>] <span class="ruby-keyword kw">and</span>
                                (<span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:compress_whitespace</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">:all</span> <span class="ruby-keyword kw">or</span>
                                 <span class="ruby-ivar">@context</span>[<span class="ruby-identifier">:compress_whitespace</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">expanded_name</span>)
                               )
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-ivar">@whitespace</span> = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@whitespace</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
      <span class="ruby-ivar">@whitespace</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003040" class="m-detail">
        <a name="M003040"></a>

        <div class="method-heading">
          <a href="#M003040" class="method-signature">
          <span class="method-name">write</span><span class="method-args">(writer=$stdout, indent=-1, transitive=false, ie_hack=false)</span>
          </a>
        </div>
      
        <div class="m-description">
          <h2>DEPRECATED</h2>
<p>
See <a href="Formatters.html">REXML::Formatters</a>
</p>
<p>
Writes out this element, and recursively, all children.
</p>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;&lt;&lt; string&#8217;; this is
where the

</td></tr>
</table>
<pre>
  document will be written.
</pre>
<table>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be this number of spaces, and children will be indented an additional
amount. Defaults to -1

</td></tr>
<tr><td valign="top">transitive:</td><td>If transitive is true and indent is &gt;= 0, then the output will be
pretty-printed in such a way that the added <a
href="Element.html#M003007">whitespace</a> does not affect the parse tree
of the <a href="Element.html#M003006">document</a>

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper XML, we have to provide a hack to generate XML that IE&#8216;s
limited abilities can handle. This hack inserts a space before the /&gt; on
empty tags. Defaults to false

</td></tr>
</table>
<pre>
 out = ''
 doc.write( out )     #-&gt; doc is written to the string 'out'
 doc.write( $stdout ) #-&gt; doc written to the console
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003040-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 674</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">writer</span>=<span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-value">-1</span>, <span class="ruby-identifier">transitive</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword kw">false</span>)
      <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;#{self.class.name}.write is deprecated.  See REXML::Formatters&quot;</span>)
      <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">transitive</span>
            <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">output</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M003030" class="m-detail">
        <a name="M003030"></a>

        <div class="method-heading">
          <a href="#M003030" class="method-signature">
          <span class="method-name">xpath</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="m-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M003030-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M003030-source">
<pre>
<span class="ruby-comment cmt"># File rexml/element.rb, line 538</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xpath</span>
      <span class="ruby-identifier">path_elements</span> = []
      <span class="ruby-identifier">cur</span> = <span class="ruby-keyword kw">self</span>
      <span class="ruby-identifier">path_elements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">__to_xpath_helper</span>( <span class="ruby-keyword kw">self</span> )
      <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">cur</span>.<span class="ruby-identifier">parent</span>
        <span class="ruby-identifier">cur</span> = <span class="ruby-identifier">cur</span>.<span class="ruby-identifier">parent</span>
        <span class="ruby-identifier">path_elements</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">__to_xpath_helper</span>( <span class="ruby-identifier">cur</span> )
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">path_elements</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">join</span>( <span class="ruby-value str">&quot;/&quot;</span> )
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>
<div id='credits' style='font-size:smaller' >
 <!-- 0 --> <p> <a href='http://www.ruby-doc.org'>ruby-doc.org</a> is hosted and run  by <a href='http://www.jamesbritt.com'>James Britt</a> and <a href='http://www.happycamperstudios.com'>Happy Camper Studios</a>, a <a href='http://www.happycamperstudios.com'> Ruby application development company in Phoenix, Arizona</a>. Ruby-doc.org was created in 2002 to promote the Ruby language and to help other Ruby hackers.</p>
 <p>Documentation content on ruby-doc.org is provided by <a href='http://www.ruby-doc.org/about'>remarkable members</a> of the Ruby community.</p>
<p>For more information on the Ruby programming language, visit <a href='http://www.ruby-lang.org'>ruby-lang.org</a>.</p>
<p>Want to help improve Ruby's API docs? See <a href='/documentation-guidelines.html'> Ruby Documentation Guidelines</a>.</p>
</div>

</body>
</html>