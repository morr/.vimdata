<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: REXML::Document</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">REXML::Document</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/rexml/document_rb.html">
                rexml/document.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Element
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Represents a full XML document, including PIs, a <a
href="Document.html#M001182">doctype</a>, etc. A <a
href="Document.html">Document</a> has a single child that can be accessed
by <a href="Document.html#M001181">root</a>(). Note that if you want to
have an XML declaration written for a document you create, you must <a
href="Document.html#M001178">add</a> one; <a href="../REXML.html">REXML</a>
documents do not <a href="Document.html#M001187">write</a> a default
declaration for you. See |DECLARATION| and |<a
href="Document.html#M001187">write</a>|.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M001179">&lt;&lt;</a>&nbsp;&nbsp;
      <a href="#M001178">add</a>&nbsp;&nbsp;
      <a href="#M001180">add_element</a>&nbsp;&nbsp;
      <a href="#M001175">clone</a>&nbsp;&nbsp;
      <a href="#M001182">doctype</a>&nbsp;&nbsp;
      <a href="#M001185">encoding</a>&nbsp;&nbsp;
      <a href="#M001190">entity_expansion_limit</a>&nbsp;&nbsp;
      <a href="#M001189">entity_expansion_limit=</a>&nbsp;&nbsp;
      <a href="#M001176">expanded_name</a>&nbsp;&nbsp;
      <a href="#M001177">name</a>&nbsp;&nbsp;
      <a href="#M001173">new</a>&nbsp;&nbsp;
      <a href="#M001174">node_type</a>&nbsp;&nbsp;
      <a href="#M001188">parse_stream</a>&nbsp;&nbsp;
      <a href="#M001191">record_entity_expansion</a>&nbsp;&nbsp;
      <a href="#M001181">root</a>&nbsp;&nbsp;
      <a href="#M001186">stand_alone?</a>&nbsp;&nbsp;
      <a href="#M001184">version</a>&nbsp;&nbsp;
      <a href="#M001187">write</a>&nbsp;&nbsp;
      <a href="#M001183">xml_decl</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">DECLARATION</td>
          <td>=</td>
          <td class="context-item-value">XMLDecl.default</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
A convenient default XML declaration. If you want an XML declaration, the
easiest way to <a href="Document.html#M001178">add</a> one is mydoc
&lt;&lt; Document::DECLARATION <tt>DEPRECATED</tt> Use: mydoc &lt;&lt;
XMLDecl.default

</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">entity_expansion_count</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M001190" class="method-detail">
        <a name="M001190"></a>

        <div class="method-heading">
          <a href="#M001190" class="method-signature">
          <span class="method-name">entity_expansion_limit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the entity expansion limit. By default the limit is set to 10000.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001190-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001190-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 212</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001189" class="method-detail">
        <a name="M001189"></a>

        <div class="method-heading">
          <a href="#M001189" class="method-signature">
          <span class="method-name">entity_expansion_limit=</span><span class="method-args">( val )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set the entity expansion limit. By default the limit is set to 10000.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001189-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001189-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 207</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">entity_expansion_limit=</span>( <span class="ruby-identifier">val</span> )
      <span class="ruby-ivar">@@entity_expansion_limit</span> = <span class="ruby-identifier">val</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001173" class="method-detail">
        <a name="M001173"></a>

        <div class="method-heading">
          <a href="#M001173" class="method-signature">
          <span class="method-name">new</span><span class="method-args">( source = nil, context = {} )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Constructor @param source if supplied, must be a <a
href="Document.html">Document</a>, String, or IO. Documents have their
context and Element attributes cloned. Strings are expected to be valid XML
documents. IOs are expected to be sources of valid XML documents. @param
context if supplied, contains the context of the document; this should be a
Hash.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001173-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001173-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 34</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">source</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">context</span> = {} )
      <span class="ruby-ivar">@entity_expansion_count</span> = <span class="ruby-value">0</span>
                        <span class="ruby-keyword kw">super</span>()
                        <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">context</span>
                        <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span>
                        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Document</span>
                                <span class="ruby-ivar">@context</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">context</span>
                                <span class="ruby-keyword kw">super</span> <span class="ruby-identifier">source</span>
                        <span class="ruby-keyword kw">else</span>
                                <span class="ruby-identifier">build</span>(  <span class="ruby-identifier">source</span> )
                        <span class="ruby-keyword kw">end</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001188" class="method-detail">
        <a name="M001188"></a>

        <div class="method-heading">
          <a href="#M001188" class="method-signature">
          <span class="method-name">parse_stream</span><span class="method-args">( source, listener )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001188-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001188-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 200</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Document</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_stream</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> )
                        <span class="ruby-constant">Parsers</span><span class="ruby-operator">::</span><span class="ruby-constant">StreamParser</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">source</span>, <span class="ruby-identifier">listener</span> ).<span class="ruby-identifier">parse</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M001179" class="method-detail">
        <a name="M001179"></a>

        <div class="method-heading">
          <span class="method-name">&lt;&lt;</span><span class="method-args">( child )</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Document.html#M001178">add</a>
</p>
        </div>
      </div>

      <div id="method-M001178" class="method-detail">
        <a name="M001178"></a>

        <div class="method-heading">
          <a href="#M001178" class="method-signature">
          <span class="method-name">add</span><span class="method-args">( child )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
We override this, because XMLDecls and DocTypes must go at the start of the
document
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001178-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001178-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 67</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>( <span class="ruby-identifier">child</span> )
                        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
                                <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">child</span>
        <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
                        <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span>
        <span class="ruby-comment cmt"># Find first Element or DocType node and insert the decl right </span>
        <span class="ruby-comment cmt"># before it.  If there is no such node, just insert the child at the</span>
        <span class="ruby-comment cmt"># end.  If there is a child and it is an DocType, then replace it.</span>
        <span class="ruby-identifier">insert_before_index</span> = <span class="ruby-value">0</span>
        <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> 
          <span class="ruby-identifier">insert_before_index</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
          <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Element</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">DocType</span>)
        }
        <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] <span class="ruby-comment cmt"># Not null = not end of list</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ].<span class="ruby-identifier">kind_of</span> <span class="ruby-constant">DocType</span>
            <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">insert_before_index</span> ] = <span class="ruby-identifier">child</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-ivar">@children</span>[ <span class="ruby-identifier">index_before_index</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>, <span class="ruby-value">0</span> ] = <span class="ruby-identifier">child</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># Insert at end of list</span>
          <span class="ruby-ivar">@children</span>[<span class="ruby-identifier">insert_before_index</span>] = <span class="ruby-identifier">child</span>
        <span class="ruby-keyword kw">end</span>
                                <span class="ruby-identifier">child</span>.<span class="ruby-identifier">parent</span> = <span class="ruby-keyword kw">self</span>
                        <span class="ruby-keyword kw">else</span>
                                <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
                                <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
                                <span class="ruby-identifier">rv</span>
                        <span class="ruby-keyword kw">end</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001180" class="method-detail">
        <a name="M001180"></a>

        <div class="method-heading">
          <a href="#M001180" class="method-signature">
          <span class="method-name">add_element</span><span class="method-args">(arg=nil, arg2=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001180-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001180-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 98</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">arg</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">arg2</span>=<span class="ruby-keyword kw">nil</span>)
                        <span class="ruby-identifier">rv</span> = <span class="ruby-keyword kw">super</span>
                        <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;attempted adding second root element to document&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@elements</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
                        <span class="ruby-identifier">rv</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001175" class="method-detail">
        <a name="M001175"></a>

        <div class="method-heading">
          <a href="#M001175" class="method-signature">
          <span class="method-name">clone</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Should be obvious
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001175-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001175-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 52</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone</span>
                        <span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001182" class="method-detail">
        <a name="M001182"></a>

        <div class="method-heading">
          <a href="#M001182" class="method-signature">
          <span class="method-name">doctype</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the DocType child of the document, if one exists, and nil
otherwise.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001182-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001182-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 114</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doctype</span>
                        <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">DocType</span> }
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001185" class="method-detail">
        <a name="M001185"></a>

        <div class="method-heading">
          <a href="#M001185" class="method-signature">
          <span class="method-name">encoding</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the XMLDecl <a href="Document.html#M001185">encoding</a> of this
document as a String. If no XMLDecl has been set, returns the default <a
href="Document.html#M001185">encoding</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001185-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001185-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 134</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encoding</span>
                        <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">encoding</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001176" class="method-detail">
        <a name="M001176"></a>

        <div class="method-heading">
          <a href="#M001176" class="method-signature">
          <span class="method-name">expanded_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
According to the XML spec, a <a href="Document.html#M001181">root</a> node
has no expanded <a href="Document.html#M001177">name</a>
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001176-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001176-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 57</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expanded_name</span>
                        <span class="ruby-value str">''</span>
                        <span class="ruby-comment cmt">#d = doc_type</span>
                        <span class="ruby-comment cmt">#d ? d.name : &quot;UNDEFINED&quot;</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001177" class="method-detail">
        <a name="M001177"></a>

        <div class="method-heading">
          <span class="method-name">name</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Document.html#M001176">expanded_name</a>
</p>
        </div>
      </div>

      <div id="method-M001174" class="method-detail">
        <a name="M001174"></a>

        <div class="method-heading">
          <a href="#M001174" class="method-signature">
          <span class="method-name">node_type</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001174-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001174-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 47</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">node_type</span>
      <span class="ruby-identifier">:document</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001191" class="method-detail">
        <a name="M001191"></a>

        <div class="method-heading">
          <a href="#M001191" class="method-signature">
          <span class="method-name">record_entity_expansion</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001191-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001191-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 218</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">record_entity_expansion</span>
      <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@entity_expansion_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@@entity_expansion_limit</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;number of entity expansions exceeded, processing aborted.&quot;</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001181" class="method-detail">
        <a name="M001181"></a>

        <div class="method-heading">
          <a href="#M001181" class="method-signature">
          <span class="method-name">root</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the <a href="Document.html#M001181">root</a> Element of the
document, or nil if this document has no children.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001181-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001181-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 106</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">root</span>
      <span class="ruby-identifier">elements</span>[<span class="ruby-value">1</span>]
      <span class="ruby-comment cmt">#self</span>
      <span class="ruby-comment cmt">#@children.find { |item| item.kind_of? Element }</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001186" class="method-detail">
        <a name="M001186"></a>

        <div class="method-heading">
          <a href="#M001186" class="method-signature">
          <span class="method-name">stand_alone?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the XMLDecl standalone value of this document as a String. If no
XMLDecl has been set, returns the default setting.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001186-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001186-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 140</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stand_alone?</span>
                        <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">stand_alone?</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001184" class="method-detail">
        <a name="M001184"></a>

        <div class="method-heading">
          <a href="#M001184" class="method-signature">
          <span class="method-name">version</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the XMLDecl <a href="Document.html#M001184">version</a> of this
document as a String. If no XMLDecl has been set, returns the default <a
href="Document.html#M001184">version</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001184-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001184-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 128</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">version</span>
                        <span class="ruby-identifier">xml_decl</span>().<span class="ruby-identifier">version</span>
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001187" class="method-detail">
        <a name="M001187"></a>

        <div class="method-heading">
          <a href="#M001187" class="method-signature">
          <span class="method-name">write</span><span class="method-args">( output=$stdout, indent=-1, trans=false, ie_hack=false )</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Write the XML tree out, optionally with indent. This writes out the entire
XML document, including XML declarations, <a
href="Document.html#M001182">doctype</a> declarations, and processing
instructions (if any are given).
</p>
<p>
A controversial point is whether <a href="Document.html">Document</a>
should always <a href="Document.html#M001187">write</a> the XML declaration
(&lt;?xml version=&#8216;1.0&#8217;?&gt;) whether or not one is given by
the user (or source document). <a href="../REXML.html">REXML</a> does not
<a href="Document.html#M001187">write</a> one if one was not specified,
because it adds unneccessary bandwidth to applications such as XML-RPC.
</p>
<p>
See also the classes in the rexml/formatters package for the proper way to
change the default formatting of XML output
</p>
<p>
<em>Examples</em>
</p>
<pre>
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize

  output_string = &quot;&quot;
  tr = Transitive.new( output_string )
  Document.new(&quot;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&quot;).serialize( tr )
</pre>
<table>
<tr><td valign="top">output:</td><td>output an object which supports &#8217;&lt;&lt; string&#8217;; this is
where the

</td></tr>
</table>
<pre>
  document will be written.
</pre>
<table>
<tr><td valign="top">indent:</td><td>An integer. If -1, no indenting will be used; otherwise, the indentation
will be twice this number of spaces, and children will be indented an
additional amount. For a value of 3, every item will be indented 3 more
levels, or 6 more spaces (2 * 3). Defaults to -1

</td></tr>
<tr><td valign="top">trans:</td><td>If transitive is true and indent is &gt;= 0, then the output will be
pretty-printed in such a way that the added whitespace does not affect the
absolute <b>value</b> of the document &#8212; that is, it leaves the value
and number of Text nodes in the document unchanged.

</td></tr>
<tr><td valign="top">ie_hack:</td><td>Internet Explorer is the worst piece of crap to have ever been written,
with the possible exception of Windows itself. Since IE is unable to parse
proper XML, we have to provide a hack to generate XML that IE&#8216;s
limited abilities can handle. This hack inserts a space before the /&gt; on
empty tags. Defaults to false

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001187-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001187-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 183</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>( <span class="ruby-identifier">output</span>=<span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">indent</span>=<span class="ruby-value">-1</span>, <span class="ruby-identifier">trans</span>=<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">ie_hack</span>=<span class="ruby-keyword kw">false</span> )
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;UTF-8&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">output</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Output</span>)
        <span class="ruby-identifier">output</span> = <span class="ruby-constant">Output</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">output</span>, <span class="ruby-identifier">xml_decl</span>.<span class="ruby-identifier">encoding</span> )
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">formatter</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">indent</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">trans</span>
            <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Transitive</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Pretty</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">ie_hack</span> )
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-constant">REXML</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatters</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">ie_hack</span> )
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">formatter</span>.<span class="ruby-identifier">write</span>( <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">output</span> )
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M001183" class="method-detail">
        <a name="M001183"></a>

        <div class="method-heading">
          <a href="#M001183" class="method-signature">
          <span class="method-name">xml_decl</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
@return the XMLDecl of this document; if no XMLDecl has been set, the
default declaration is returned.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M001183-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M001183-source">
<pre>
<span class="ruby-comment cmt"># File rexml/document.rb, line 120</span>
                <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">xml_decl</span>
                        <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>[<span class="ruby-value">0</span>]
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">rv</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rv</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">XMLDecl</span>
      <span class="ruby-identifier">rv</span> = <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-constant">XMLDecl</span>.<span class="ruby-identifier">default</span>)[<span class="ruby-value">0</span>]
                <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>